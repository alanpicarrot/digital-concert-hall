2025-04-09 09:40:31.251 [] [] [main] INFO  c.d.t.ConcertCreationIntegrationTest - Starting ConcertCreationIntegrationTest using Java 17.0.6 with PID 33828 (started by alanp in /Users/alanp/digital-concert-hall/backend)
2025-04-09 09:40:31.255 [] [] [main] DEBUG c.d.t.ConcertCreationIntegrationTest - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-04-09 09:40:31.256 [] [] [main] INFO  c.d.t.ConcertCreationIntegrationTest - The following 2 profiles are active: "test", "logging"
2025-04-09 09:40:31.537 [] [] [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-09 09:40:31.568 [] [] [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 8 JPA repository interfaces.
2025-04-09 09:40:31.911 [] [] [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 0 (http)
2025-04-09 09:40:31.915 [] [] [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-09 09:40:31.916 [] [] [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-04-09 09:40:31.940 [] [] [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-09 09:40:31.941 [] [] [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 674 ms
2025-04-09 09:40:31.964 [] [] [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-09 09:40:32.037 [] [] [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-04-09 09:40:32.038 [] [] [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-09 09:40:32.043 [] [] [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-04-09 09:40:32.115 [] [] [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-09 09:40:32.132 [] [] [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-04-09 09:40:32.144 [] [] [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-09 09:40:32.231 [] [] [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-09 09:40:32.245 [] [] [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-09 09:40:32.639 [] [] [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-09 09:40:32.657 [] [] [main] DEBUG org.hibernate.SQL - create table concerts (id bigint generated by default as identity, brochure_url varchar(255), created_at timestamp(6) not null, description TEXT, poster_url varchar(255), program_details TEXT, status varchar(20) not null, title varchar(200) not null, updated_at timestamp(6) not null, primary key (id))
2025-04-09 09:40:32.660 [] [] [main] DEBUG org.hibernate.SQL - create table order_items (id bigint generated by default as identity, quantity integer not null, subtotal numeric(10,2) not null, unit_price numeric(10,2) not null, order_id bigint not null, ticket_id bigint not null, primary key (id))
2025-04-09 09:40:32.661 [] [] [main] DEBUG org.hibernate.SQL - create table orders (id bigint generated by default as identity, order_date timestamp(6) not null, order_number varchar(255) not null, payment_method varchar(50), payment_status varchar(20) not null, status varchar(20) not null, total_amount numeric(10,2) not null, user_id bigint not null, primary key (id))
2025-04-09 09:40:32.662 [] [] [main] DEBUG org.hibernate.SQL - create table performances (id bigint generated by default as identity, end_time timestamp(6) not null, livestream_url varchar(255), recording_url varchar(255), start_time timestamp(6) not null, status varchar(20) not null, venue varchar(100) not null, concert_id bigint not null, primary key (id))
2025-04-09 09:40:32.663 [] [] [main] DEBUG org.hibernate.SQL - create table roles (id integer generated by default as identity, name varchar(20) check (name in ('ROLE_USER','ROLE_MODERATOR','ROLE_ADMIN')), primary key (id))
2025-04-09 09:40:32.664 [] [] [main] DEBUG org.hibernate.SQL - create table ticket_types (id bigint generated by default as identity, color_code varchar(20), created_at timestamp(6) not null, description varchar(255), name varchar(50) not null, price numeric(10,2) not null, primary key (id))
2025-04-09 09:40:32.664 [] [] [main] DEBUG org.hibernate.SQL - create table tickets (id bigint generated by default as identity, available_quantity integer not null, created_at timestamp(6) not null, description varchar(255), price numeric(10,2), status varchar(255), total_quantity integer not null, performance_id bigint not null, ticket_type_id bigint not null, primary key (id))
2025-04-09 09:40:32.665 [] [] [main] DEBUG org.hibernate.SQL - create table user_roles (user_id bigint not null, role_id integer not null, primary key (user_id, role_id))
2025-04-09 09:40:32.666 [] [] [main] DEBUG org.hibernate.SQL - create table user_tickets (id bigint generated by default as identity, created_at timestamp(6) not null, is_used boolean not null, ticket_code varchar(255) not null, updated_at timestamp(6) not null, order_item_id bigint not null, user_id bigint not null, primary key (id))
2025-04-09 09:40:32.666 [] [] [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, created_at timestamp(6), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), reset_password_token varchar(255), reset_password_token_expiry timestamp(6), updated_at timestamp(6), username varchar(255), primary key (id))
2025-04-09 09:40:32.667 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders drop constraint if exists UK_nthkiu7pgmnqnu86i2jyoe2v7
2025-04-09 09:40:32.668 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders add constraint UK_nthkiu7pgmnqnu86i2jyoe2v7 unique (order_number)
2025-04-09 09:40:32.668 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets drop constraint if exists UK_5kxnsqfwpop53fu9y4dm2ivxr
2025-04-09 09:40:32.668 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint UK_5kxnsqfwpop53fu9y4dm2ivxr unique (ticket_code)
2025-04-09 09:40:32.668 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2025-04-09 09:40:32.669 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2025-04-09 09:40:32.669 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7
2025-04-09 09:40:32.669 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-04-09 09:40:32.670 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists order_items add constraint FKbioxgbv59vetrxe0ejfubep1w foreign key (order_id) references orders
2025-04-09 09:40:32.672 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists order_items add constraint FKt2ynanr8tfohjdpkrjiajbmc foreign key (ticket_id) references tickets
2025-04-09 09:40:32.673 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users
2025-04-09 09:40:32.674 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists performances add constraint FKqgw8m05tetv1vx8xiioikot8q foreign key (concert_id) references concerts
2025-04-09 09:40:32.674 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists tickets add constraint FKs04a7r9lnv2g10dffp31ox6vi foreign key (performance_id) references performances
2025-04-09 09:40:32.675 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists tickets add constraint FKotik7mbbb14hu8n9og7o92k5h foreign key (ticket_type_id) references ticket_types
2025-04-09 09:40:32.676 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 foreign key (role_id) references roles
2025-04-09 09:40:32.676 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users
2025-04-09 09:40:32.677 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint FKlc2lk84hg4px6vmbtstwp0xre foreign key (order_item_id) references order_items
2025-04-09 09:40:32.678 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint FK9ok1dlkt49it7wyeh529wy315 foreign key (user_id) references users
2025-04-09 09:40:32.680 [] [] [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-09 09:40:32.929 [] [] [main] DEBUG c.d.security.jwt.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2025-04-09 09:40:32.929 [] [] [main] DEBUG c.d.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-04-09 09:40:32.929 [] [] [main] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-09 09:40:32.929 [] [] [main] DEBUG c.d.logging.EnhancedLoggingFilter - Filter 'enhancedLoggingFilter' configured for use
2025-04-09 09:40:33.072 [] [] [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-09 09:40:33.354 [] [] [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-09 09:40:33.539 [] [] [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c513e9f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c057419, org.springframework.security.web.context.SecurityContextHolderFilter@2eaaef66, org.springframework.security.web.header.HeaderWriterFilter@6557d4c6, org.springframework.web.filter.CorsFilter@78d3578e, org.springframework.security.web.authentication.logout.LogoutFilter@4913465d, com.digitalconcerthall.security.jwt.AuthTokenFilter@1f41f259, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a8dd899, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3da068e8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e4d6172, org.springframework.security.web.session.SessionManagementFilter@c79a727, org.springframework.security.web.access.ExceptionTranslationFilter@43e587cd, org.springframework.security.web.access.intercept.AuthorizationFilter@2de526f9]
2025-04-09 09:40:33.701 [] [] [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 55446 (http) with context path ''
2025-04-09 09:40:33.717 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_USER")
2025-04-09 09:40:33.757 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 09:40:33.760 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 42 ms
2025-04-09 09:40:33.767 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 09:40:33.772 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_USER"
})
2025-04-09 09:40:33.789 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 09:40:33.795 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 22 ms
2025-04-09 09:40:33.796 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 1,
  "name" : "ROLE_USER"
}
2025-04-09 09:40:33.796 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_MODERATOR")
2025-04-09 09:40:33.797 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 09:40:33.798 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 1 ms
2025-04-09 09:40:33.798 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 09:40:33.798 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_MODERATOR"
})
2025-04-09 09:40:33.799 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 09:40:33.799 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 1 ms
2025-04-09 09:40:33.800 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 2,
  "name" : "ROLE_MODERATOR"
}
2025-04-09 09:40:33.800 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_ADMIN")
2025-04-09 09:40:33.801 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 09:40:33.801 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 0 ms
2025-04-09 09:40:33.801 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 09:40:33.802 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_ADMIN"
})
2025-04-09 09:40:33.802 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 09:40:33.803 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 1 ms
2025-04-09 09:40:33.803 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 3,
  "name" : "ROLE_ADMIN"
}
2025-04-09 09:40:33.805 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy154.findByEmail] - $Proxy154.findByEmail(email="admin@digitalconcert.com")
2025-04-09 09:40:33.807 [] [$Proxy154.findByEmail] [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password,u1_0.reset_password_token,u1_0.reset_password_token_expiry,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-09 09:40:33.808 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy154.findByEmail] - $Proxy154.findByEmail completed in 2 ms
2025-04-09 09:40:33.808 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy154.findByEmail]: {
  "empty" : true,
  "present" : false
}
2025-04-09 09:40:33.808 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_ADMIN")
2025-04-09 09:40:33.810 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 09:40:33.812 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 4 ms
2025-04-09 09:40:33.813 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : false,
  "present" : true
}
2025-04-09 09:40:33.898 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy154.save] - $Proxy154.save(entity={
  "id" : null,
  "username" : "admin@digitalconcert.com",
  "email" : "admin@digitalconcert.com",
  "password" : "$2a$10$dtIkHA1Cbcnzr.3Oun2m7up/4Fr0tSB.N7nwkR285ycsKzlTPGmQG",
  "firstName" : null,
  "lastName" : null,
  "resetPasswordToken" : null,
  "resetPasswordTokenExpiry" : null,
  "roles" : [ {
    "id" : 3,
    "name" : "ROLE_ADMIN"
  } ],
  "createdAt" : null,
  "updatedAt" : null,
  "orders" : [ ],
  "userTickets" : [ ]
})
2025-04-09 09:40:33.922 [] [$Proxy154.save] [main] DEBUG org.hibernate.SQL - insert into users (created_at,email,first_name,last_name,password,reset_password_token,reset_password_token_expiry,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,default)
2025-04-09 09:40:33.924 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy154.save] - $Proxy154.save completed in 25 ms
2025-04-09 09:40:33.928 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy154.save]: {
  "id" : 1,
  "username" : "admin@digitalconcert.com",
  "email" : "admin@digitalconcert.com",
  "password" : "$2a$10$dtIkHA1Cbcnzr.3Oun2m7up/4Fr0tSB.N7nwkR285ycsKzlTPGmQG",
  "firstName" : null,
  "lastName" : null,
  "resetPasswordToken" : null,
  "resetPasswordTokenExpiry" : null,
  "roles" : [ {
    "id" : 3,
    "name" : "ROLE_ADMIN"
  } ],
  "createdAt" : "2025-04-09T09:40:33.899253",
  "updatedAt" : "2025-04-09T09:40:33.899257",
  "orders" : [ ],
  "userTickets" : [ ]
}
2025-04-09 09:40:33.932 [] [] [main] DEBUG org.hibernate.SQL - insert into user_roles (user_id,role_id) values (?,?)
2025-04-09 09:40:33.934 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.count] - $Proxy155.count()
2025-04-09 09:40:33.939 [] [$Proxy155.count] [main] DEBUG org.hibernate.SQL - select count(*) from roles r1_0
2025-04-09 09:40:33.939 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.count] - $Proxy155.count completed in 4 ms
2025-04-09 09:40:33.940 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.count]: 3
2025-04-09 09:40:33.940 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.count] - $Proxy155.count()
2025-04-09 09:40:33.941 [] [$Proxy155.count] [main] DEBUG org.hibernate.SQL - select count(*) from roles r1_0
2025-04-09 09:40:33.941 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.count] - $Proxy155.count completed in 0 ms
2025-04-09 09:40:33.941 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.count]: 3
2025-04-09 09:40:34.208 [] [] [main] INFO  c.d.logging.TestLoggingService - 
▶▶▶ TEST STARTED ▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶
TEST ID: T20250409-094034--001
NAME: 音樂會創建測試
DESCRIPTION: 測試管理員是否能成功創建音樂會，並驗證創建的音樂會數據是否正確
TAGS: [api, concert, admin]
START TIME: 20250409-094034
▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶
2025-04-09 09:40:34.209 [] [] [main] INFO  c.d.logging.TestLoggingService - 
→ TEST STEP #1 - 管理員登入
DETAILS: 使用管理員帳號登入系統，獲取JWT令牌
2025-04-09 09:40:34.254 [] [] [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-09 09:40:34.254 [] [] [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-09 09:40:34.255 [] [] [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-09 09:40:34.258 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-04-09 09:40:34.261 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-04-09 09:40:34.262 [] [] [http-nio-auto-1-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-04-09 09:40:34.265 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-04-09 09:40:34.267 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/auth/login, headers=[accept:"application/json, application/*+json", user-agent:"Java/17.0.6", host:"localhost:55446", connection:"keep-alive", transfer-encoding:"chunked", Content-Type:"application/json;charset=UTF-8"]]
2025-04-09 09:40:34.268 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] INFO  c.d.logging.EnhancedLoggingFilter - 
━━━━━ REQUEST ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ID: 9bb43ca605964d3db7d8c98277f04201
URI: /api/auth/login
METHOD: POST
QUERY: 
CLIENT IP: 127.0.0.1
HEADERS: [accept: application/json, application/*+json, content-type: application/json, user-agent: Java/17.0.6, host: localhost:55446, connection: keep-alive, transfer-encoding: chunked]
BODY: 
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

2025-04-09 09:40:34.285 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [9bb43ca605964d3db7d8c98277f04201] - AuthController.authenticateUser(loginRequest={
  "username" : "admin",
  "password" : "admin123"
})
2025-04-09 09:40:34.285 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [9bb43ca605964d3db7d8c98277f04201] - AuthServiceImpl.authenticateUser(loginRequest={
  "username" : "admin",
  "password" : "admin123"
})
2025-04-09 09:40:34.366 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [9bb43ca605964d3db7d8c98277f04201] - $Proxy154.findByUsername(username="admin")
2025-04-09 09:40:34.367 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password,u1_0.reset_password_token,u1_0.reset_password_token_expiry,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-09 09:40:34.368 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [9bb43ca605964d3db7d8c98277f04201] - $Proxy154.findByUsername completed in 1 ms
2025-04-09 09:40:34.368 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [9bb43ca605964d3db7d8c98277f04201]: {
  "empty" : true,
  "present" : false
}
2025-04-09 09:40:34.369 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [9bb43ca605964d3db7d8c98277f04201] - $Proxy154.count()
2025-04-09 09:40:34.370 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2025-04-09 09:40:34.371 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [9bb43ca605964d3db7d8c98277f04201] - $Proxy154.count completed in 1 ms
2025-04-09 09:40:34.371 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [9bb43ca605964d3db7d8c98277f04201]: 1
2025-04-09 09:40:34.371 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [9bb43ca605964d3db7d8c98277f04201] - $Proxy154.findByEmail(email="admin")
2025-04-09 09:40:34.372 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password,u1_0.reset_password_token,u1_0.reset_password_token_expiry,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-09 09:40:34.372 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [9bb43ca605964d3db7d8c98277f04201] - $Proxy154.findByEmail completed in 1 ms
2025-04-09 09:40:34.372 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [9bb43ca605964d3db7d8c98277f04201]: {
  "empty" : true,
  "present" : false
}
2025-04-09 09:40:34.469 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to find user 'admin'
2025-04-09 09:40:34.469 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] ERROR c.d.logging.MethodLoggingAspect - 
❌ Method Exception [9bb43ca605964d3db7d8c98277f04201] - AuthServiceImpl.authenticateUser: Bad credentials
org.springframework.security.authentication.BadCredentialsException: Bad credentials
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:141)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at com.digitalconcerthall.service.impl.AuthServiceImpl.authenticateUser(AuthServiceImpl.java:61)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.digitalconcerthall.logging.MethodLoggingAspect.logMethodExecution(MethodLoggingAspect.java:94)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.digitalconcerthall.service.impl.AuthServiceImpl$$SpringCGLIB$$0.authenticateUser(<generated>)
	at com.digitalconcerthall.controller.AuthController.authenticateUser(AuthController.java:38)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.digitalconcerthall.logging.MethodLoggingAspect.logMethodExecution(MethodLoggingAspect.java:94)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.digitalconcerthall.controller.AuthController$$SpringCGLIB$$0.authenticateUser(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.digitalconcerthall.logging.EnhancedLoggingFilter.doFilterInternal(EnhancedLoggingFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.digitalconcerthall.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.digitalconcerthall.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2025-04-09 09:40:34.475 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [9bb43ca605964d3db7d8c98277f04201] - AuthController.authenticateUser completed in 189 ms
2025-04-09 09:40:34.486 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [9bb43ca605964d3db7d8c98277f04201]: {
  "headers" : { },
  "body" : {
    "message" : "Authentication failed: Bad credentials"
  },
  "statusCodeValue" : 401,
  "statusCode" : "UNAUTHORIZED"
}
2025-04-09 09:40:34.531 [9bb43ca605964d3db7d8c98277f04201] [] [http-nio-auto-1-exec-1] ERROR c.d.logging.EnhancedLoggingFilter - 
━━━━━ RESPONSE ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ID: 9bb43ca605964d3db7d8c98277f04201
STATUS: 401
DURATION: 260 ms
HEADERS: [Vary: Origin, Vary: Origin, Vary: Origin]
BODY: {
  "message" : "Authentication failed: Bad credentials"
}
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

2025-04-09 09:40:34.532 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/auth/login, headers=[accept:"application/json, application/*+json", user-agent:"Java/17.0.6", host:"localhost:55446", connection:"keep-alive", transfer-encoding:"chunked", Content-Type:"application/json;charset=UTF-8"], payload={"username":"admin","password":"admin123"}]
2025-04-09 09:40:34.537 [] [] [main] ERROR c.d.logging.TestLoggingService - 
❌ TEST ERROR: 管理員登入過程發生錯誤: I/O error on POST request for "http://localhost:55446/api/auth/login": cannot retry due to server authentication, in streaming mode
DETAILS: org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:55446/api/auth/login": cannot retry due to server authentication, in streaming mode
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:55446/api/auth/login": cannot retry due to server authentication, in streaming mode
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:885)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:781)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:663)
	at org.springframework.boot.test.web.client.TestRestTemplate.exchange(TestRestTemplate.java:711)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.loginAsAdmin(ConcertCreationIntegrationTest.java:171)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.setUp(ConcertCreationIntegrationTest.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:521)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:506)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:175)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:172)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: java.net.HttpRetryException: cannot retry due to server authentication, in streaming mode
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1794)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)
	at org.springframework.http.client.SimpleClientHttpResponse.getStatusCode(SimpleClientHttpResponse.java:55)
	at org.springframework.web.client.DefaultResponseErrorHandler.hasError(DefaultResponseErrorHandler.java:83)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:921)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:881)
	... 79 common frames omitted
2025-04-09 09:40:34.563 [] [] [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-09 09:40:34.565 [] [] [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-09 09:40:34.568 [] [] [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-09 10:21:07.085 [] [] [main] INFO  c.d.t.ConcertCreationIntegrationTest - Starting ConcertCreationIntegrationTest using Java 17.0.6 with PID 46821 (started by alanp in /Users/alanp/digital-concert-hall/backend)
2025-04-09 10:21:07.086 [] [] [main] DEBUG c.d.t.ConcertCreationIntegrationTest - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-04-09 10:21:07.086 [] [] [main] INFO  c.d.t.ConcertCreationIntegrationTest - The following 2 profiles are active: "test", "logging"
2025-04-09 10:21:07.354 [] [] [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-09 10:21:07.388 [] [] [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 8 JPA repository interfaces.
2025-04-09 10:21:07.739 [] [] [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 0 (http)
2025-04-09 10:21:07.743 [] [] [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-09 10:21:07.744 [] [] [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-04-09 10:21:07.769 [] [] [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-09 10:21:07.769 [] [] [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 677 ms
2025-04-09 10:21:07.793 [] [] [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-09 10:21:07.860 [] [] [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-04-09 10:21:07.861 [] [] [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-09 10:21:07.866 [] [] [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-04-09 10:21:07.930 [] [] [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-09 10:21:07.947 [] [] [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-04-09 10:21:07.958 [] [] [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-09 10:21:08.039 [] [] [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-09 10:21:08.053 [] [] [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-09 10:21:08.440 [] [] [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-09 10:21:08.458 [] [] [main] DEBUG org.hibernate.SQL - create table concerts (id bigint generated by default as identity, brochure_url varchar(255), created_at timestamp(6) not null, description TEXT, end_date_time timestamp(6) not null, poster_url varchar(255), program_details TEXT, start_date_time timestamp(6) not null, status varchar(20) not null, title varchar(200) not null, updated_at timestamp(6) not null, primary key (id))
2025-04-09 10:21:08.461 [] [] [main] DEBUG org.hibernate.SQL - create table order_items (id bigint generated by default as identity, quantity integer not null, subtotal numeric(10,2) not null, unit_price numeric(10,2) not null, order_id bigint not null, ticket_id bigint not null, primary key (id))
2025-04-09 10:21:08.462 [] [] [main] DEBUG org.hibernate.SQL - create table orders (id bigint generated by default as identity, order_date timestamp(6) not null, order_number varchar(255) not null, payment_method varchar(50), payment_status varchar(20) not null, status varchar(20) not null, total_amount numeric(10,2) not null, user_id bigint not null, primary key (id))
2025-04-09 10:21:08.463 [] [] [main] DEBUG org.hibernate.SQL - create table performances (id bigint generated by default as identity, end_time timestamp(6) not null, livestream_url varchar(255), recording_url varchar(255), start_time timestamp(6) not null, status varchar(20) not null, venue varchar(100) not null, concert_id bigint not null, primary key (id))
2025-04-09 10:21:08.464 [] [] [main] DEBUG org.hibernate.SQL - create table roles (id integer generated by default as identity, name varchar(20) check (name in ('ROLE_USER','ROLE_MODERATOR','ROLE_ADMIN')), primary key (id))
2025-04-09 10:21:08.465 [] [] [main] DEBUG org.hibernate.SQL - create table ticket_types (id bigint generated by default as identity, color_code varchar(20), created_at timestamp(6) not null, description varchar(255), name varchar(50) not null, price numeric(10,2) not null, primary key (id))
2025-04-09 10:21:08.466 [] [] [main] DEBUG org.hibernate.SQL - create table tickets (id bigint generated by default as identity, available_quantity integer not null, created_at timestamp(6) not null, description varchar(255), price numeric(10,2), status varchar(255), total_quantity integer not null, performance_id bigint not null, ticket_type_id bigint not null, primary key (id))
2025-04-09 10:21:08.466 [] [] [main] DEBUG org.hibernate.SQL - create table user_roles (user_id bigint not null, role_id integer not null, primary key (user_id, role_id))
2025-04-09 10:21:08.467 [] [] [main] DEBUG org.hibernate.SQL - create table user_tickets (id bigint generated by default as identity, created_at timestamp(6) not null, is_used boolean not null, ticket_code varchar(255) not null, updated_at timestamp(6) not null, order_item_id bigint not null, user_id bigint not null, primary key (id))
2025-04-09 10:21:08.468 [] [] [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, created_at timestamp(6), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), reset_password_token varchar(255), reset_password_token_expiry timestamp(6), updated_at timestamp(6), username varchar(255), primary key (id))
2025-04-09 10:21:08.469 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders drop constraint if exists UK_nthkiu7pgmnqnu86i2jyoe2v7
2025-04-09 10:21:08.469 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders add constraint UK_nthkiu7pgmnqnu86i2jyoe2v7 unique (order_number)
2025-04-09 10:21:08.470 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets drop constraint if exists UK_5kxnsqfwpop53fu9y4dm2ivxr
2025-04-09 10:21:08.470 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint UK_5kxnsqfwpop53fu9y4dm2ivxr unique (ticket_code)
2025-04-09 10:21:08.470 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2025-04-09 10:21:08.470 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2025-04-09 10:21:08.470 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7
2025-04-09 10:21:08.470 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-04-09 10:21:08.472 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists order_items add constraint FKbioxgbv59vetrxe0ejfubep1w foreign key (order_id) references orders
2025-04-09 10:21:08.474 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists order_items add constraint FKt2ynanr8tfohjdpkrjiajbmc foreign key (ticket_id) references tickets
2025-04-09 10:21:08.474 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users
2025-04-09 10:21:08.475 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists performances add constraint FKqgw8m05tetv1vx8xiioikot8q foreign key (concert_id) references concerts
2025-04-09 10:21:08.476 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists tickets add constraint FKs04a7r9lnv2g10dffp31ox6vi foreign key (performance_id) references performances
2025-04-09 10:21:08.477 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists tickets add constraint FKotik7mbbb14hu8n9og7o92k5h foreign key (ticket_type_id) references ticket_types
2025-04-09 10:21:08.477 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 foreign key (role_id) references roles
2025-04-09 10:21:08.478 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users
2025-04-09 10:21:08.479 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint FKlc2lk84hg4px6vmbtstwp0xre foreign key (order_item_id) references order_items
2025-04-09 10:21:08.479 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint FK9ok1dlkt49it7wyeh529wy315 foreign key (user_id) references users
2025-04-09 10:21:08.481 [] [] [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-09 10:21:08.706 [] [] [main] DEBUG c.d.security.jwt.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2025-04-09 10:21:08.706 [] [] [main] DEBUG c.d.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-04-09 10:21:08.706 [] [] [main] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-09 10:21:08.706 [] [] [main] DEBUG c.d.logging.EnhancedLoggingFilter - Filter 'enhancedLoggingFilter' configured for use
2025-04-09 10:21:08.832 [] [] [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-09 10:21:09.100 [] [] [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-09 10:21:09.262 [] [] [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@66b65360, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@92537b5, org.springframework.security.web.context.SecurityContextHolderFilter@71af3c7, org.springframework.security.web.header.HeaderWriterFilter@6fc1d215, org.springframework.web.filter.CorsFilter@43b89b4, org.springframework.security.web.authentication.logout.LogoutFilter@11e2de88, com.digitalconcerthall.security.jwt.AuthTokenFilter@7104b117, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@fe739e7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c513e9f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58b2c0b4, org.springframework.security.web.session.SessionManagementFilter@3593e8dd, org.springframework.security.web.access.ExceptionTranslationFilter@2324e26c, org.springframework.security.web.access.intercept.AuthorizationFilter@1233f419]
2025-04-09 10:21:09.433 [] [] [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 55615 (http) with context path ''
2025-04-09 10:21:09.448 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_USER")
2025-04-09 10:21:09.487 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:21:09.490 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 41 ms
2025-04-09 10:21:09.496 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:21:09.498 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_USER"
})
2025-04-09 10:21:09.516 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 10:21:09.521 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 23 ms
2025-04-09 10:21:09.522 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 1,
  "name" : "ROLE_USER"
}
2025-04-09 10:21:09.522 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_MODERATOR")
2025-04-09 10:21:09.523 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:21:09.524 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 1 ms
2025-04-09 10:21:09.524 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:21:09.524 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_MODERATOR"
})
2025-04-09 10:21:09.525 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 10:21:09.526 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 0 ms
2025-04-09 10:21:09.526 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 2,
  "name" : "ROLE_MODERATOR"
}
2025-04-09 10:21:09.526 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_ADMIN")
2025-04-09 10:21:09.527 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:21:09.527 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 1 ms
2025-04-09 10:21:09.527 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:21:09.527 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_ADMIN"
})
2025-04-09 10:21:09.528 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 10:21:09.529 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 1 ms
2025-04-09 10:21:09.529 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 3,
  "name" : "ROLE_ADMIN"
}
2025-04-09 10:21:09.530 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy154.findByEmail] - $Proxy154.findByEmail(email="admin@digitalconcert.com")
2025-04-09 10:21:09.532 [] [$Proxy154.findByEmail] [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password,u1_0.reset_password_token,u1_0.reset_password_token_expiry,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-09 10:21:09.533 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy154.findByEmail] - $Proxy154.findByEmail completed in 2 ms
2025-04-09 10:21:09.533 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy154.findByEmail]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:21:09.533 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_ADMIN")
2025-04-09 10:21:09.534 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:21:09.536 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 2 ms
2025-04-09 10:21:09.536 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : false,
  "present" : true
}
2025-04-09 10:21:09.621 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy154.save] - $Proxy154.save(entity={
  "id" : null,
  "username" : "admin@digitalconcert.com",
  "email" : "admin@digitalconcert.com",
  "password" : "$2a$10$side2lnUrz0jq2ZwJsxC1utzY8YJ2yoxCdo8ksrCXTottd5x8QVHq",
  "firstName" : null,
  "lastName" : null,
  "resetPasswordToken" : null,
  "resetPasswordTokenExpiry" : null,
  "roles" : [ {
    "id" : 3,
    "name" : "ROLE_ADMIN"
  } ],
  "createdAt" : null,
  "updatedAt" : null,
  "orders" : [ ],
  "userTickets" : [ ]
})
2025-04-09 10:21:09.639 [] [$Proxy154.save] [main] DEBUG org.hibernate.SQL - insert into users (created_at,email,first_name,last_name,password,reset_password_token,reset_password_token_expiry,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,default)
2025-04-09 10:21:09.641 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy154.save] - $Proxy154.save completed in 19 ms
2025-04-09 10:21:09.644 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy154.save]: {
  "id" : 1,
  "username" : "admin@digitalconcert.com",
  "email" : "admin@digitalconcert.com",
  "password" : "$2a$10$side2lnUrz0jq2ZwJsxC1utzY8YJ2yoxCdo8ksrCXTottd5x8QVHq",
  "firstName" : null,
  "lastName" : null,
  "resetPasswordToken" : null,
  "resetPasswordTokenExpiry" : null,
  "roles" : [ {
    "id" : 3,
    "name" : "ROLE_ADMIN"
  } ],
  "createdAt" : "2025-04-09T10:21:09.622359",
  "updatedAt" : "2025-04-09T10:21:09.622369",
  "orders" : [ ],
  "userTickets" : [ ]
}
2025-04-09 10:21:09.648 [] [] [main] DEBUG org.hibernate.SQL - insert into user_roles (user_id,role_id) values (?,?)
2025-04-09 10:21:09.650 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.count] - $Proxy155.count()
2025-04-09 10:21:09.654 [] [$Proxy155.count] [main] DEBUG org.hibernate.SQL - select count(*) from roles r1_0
2025-04-09 10:21:09.655 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.count] - $Proxy155.count completed in 4 ms
2025-04-09 10:21:09.655 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.count]: 3
2025-04-09 10:21:09.655 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.count] - $Proxy155.count()
2025-04-09 10:21:09.656 [] [$Proxy155.count] [main] DEBUG org.hibernate.SQL - select count(*) from roles r1_0
2025-04-09 10:21:09.656 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.count] - $Proxy155.count completed in 0 ms
2025-04-09 10:21:09.656 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.count]: 3
2025-04-09 10:21:09.915 [] [] [main] INFO  c.d.logging.TestLoggingService - 
▶▶▶ TEST STARTED ▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶
TEST ID: T20250409-102109--001
NAME: 音樂會創建測試
DESCRIPTION: 測試管理員是否能成功創建音樂會，並驗證創建的音樂會數據是否正確
TAGS: [api, concert, admin]
START TIME: 20250409-102109
▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶
2025-04-09 10:21:09.915 [] [] [main] INFO  c.d.logging.TestLoggingService - 
→ TEST STEP #1 - 管理員登入
DETAILS: 使用管理員帳號登入系統，獲取JWT令牌
2025-04-09 10:21:09.957 [] [] [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-09 10:21:09.957 [] [] [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-09 10:21:09.958 [] [] [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-09 10:21:09.961 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-04-09 10:21:09.964 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-04-09 10:21:09.964 [] [] [http-nio-auto-1-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-04-09 10:21:09.967 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-04-09 10:21:09.969 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/auth/login, headers=[accept:"application/json, application/*+json", user-agent:"Java/17.0.6", host:"localhost:55615", connection:"keep-alive", transfer-encoding:"chunked", Content-Type:"application/json;charset=UTF-8"]]
2025-04-09 10:21:09.969 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] INFO  c.d.logging.EnhancedLoggingFilter - 
━━━━━ REQUEST ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ID: 3c37d6f659af47139c47344bacbc799a
URI: /api/auth/login
METHOD: POST
QUERY: 
CLIENT IP: 127.0.0.1
HEADERS: [accept: application/json, application/*+json, content-type: application/json, user-agent: Java/17.0.6, host: localhost:55615, connection: keep-alive, transfer-encoding: chunked]
BODY: 
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

2025-04-09 10:21:09.986 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [3c37d6f659af47139c47344bacbc799a] - AuthController.authenticateUser(loginRequest={
  "username" : "admin",
  "password" : "admin123"
})
2025-04-09 10:21:09.986 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [3c37d6f659af47139c47344bacbc799a] - AuthServiceImpl.authenticateUser(loginRequest={
  "username" : "admin",
  "password" : "admin123"
})
2025-04-09 10:21:10.063 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [3c37d6f659af47139c47344bacbc799a] - $Proxy154.findByUsername(username="admin")
2025-04-09 10:21:10.065 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password,u1_0.reset_password_token,u1_0.reset_password_token_expiry,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-09 10:21:10.065 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [3c37d6f659af47139c47344bacbc799a] - $Proxy154.findByUsername completed in 1 ms
2025-04-09 10:21:10.065 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [3c37d6f659af47139c47344bacbc799a]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:21:10.066 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [3c37d6f659af47139c47344bacbc799a] - $Proxy154.count()
2025-04-09 10:21:10.067 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2025-04-09 10:21:10.068 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [3c37d6f659af47139c47344bacbc799a] - $Proxy154.count completed in 1 ms
2025-04-09 10:21:10.068 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [3c37d6f659af47139c47344bacbc799a]: 1
2025-04-09 10:21:10.068 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [3c37d6f659af47139c47344bacbc799a] - $Proxy154.findByEmail(email="admin")
2025-04-09 10:21:10.069 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password,u1_0.reset_password_token,u1_0.reset_password_token_expiry,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-09 10:21:10.069 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [3c37d6f659af47139c47344bacbc799a] - $Proxy154.findByEmail completed in 0 ms
2025-04-09 10:21:10.069 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [3c37d6f659af47139c47344bacbc799a]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:21:10.154 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to find user 'admin'
2025-04-09 10:21:10.154 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] ERROR c.d.logging.MethodLoggingAspect - 
❌ Method Exception [3c37d6f659af47139c47344bacbc799a] - AuthServiceImpl.authenticateUser: Bad credentials
org.springframework.security.authentication.BadCredentialsException: Bad credentials
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:141)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at com.digitalconcerthall.service.impl.AuthServiceImpl.authenticateUser(AuthServiceImpl.java:61)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.digitalconcerthall.logging.MethodLoggingAspect.logMethodExecution(MethodLoggingAspect.java:94)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.digitalconcerthall.service.impl.AuthServiceImpl$$SpringCGLIB$$0.authenticateUser(<generated>)
	at com.digitalconcerthall.controller.AuthController.authenticateUser(AuthController.java:38)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.digitalconcerthall.logging.MethodLoggingAspect.logMethodExecution(MethodLoggingAspect.java:94)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.digitalconcerthall.controller.AuthController$$SpringCGLIB$$0.authenticateUser(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.digitalconcerthall.logging.EnhancedLoggingFilter.doFilterInternal(EnhancedLoggingFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.digitalconcerthall.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.digitalconcerthall.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2025-04-09 10:21:10.160 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [3c37d6f659af47139c47344bacbc799a] - AuthController.authenticateUser completed in 173 ms
2025-04-09 10:21:10.204 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [3c37d6f659af47139c47344bacbc799a]: {
  "headers" : { },
  "body" : {
    "message" : "Authentication failed: Bad credentials"
  },
  "statusCodeValue" : 401,
  "statusCode" : "UNAUTHORIZED"
}
2025-04-09 10:21:10.217 [3c37d6f659af47139c47344bacbc799a] [] [http-nio-auto-1-exec-1] ERROR c.d.logging.EnhancedLoggingFilter - 
━━━━━ RESPONSE ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ID: 3c37d6f659af47139c47344bacbc799a
STATUS: 401
DURATION: 246 ms
HEADERS: [Vary: Origin, Vary: Origin, Vary: Origin]
BODY: {
  "message" : "Authentication failed: Bad credentials"
}
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

2025-04-09 10:21:10.219 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/auth/login, headers=[accept:"application/json, application/*+json", user-agent:"Java/17.0.6", host:"localhost:55615", connection:"keep-alive", transfer-encoding:"chunked", Content-Type:"application/json;charset=UTF-8"], payload={"username":"admin","password":"admin123"}]
2025-04-09 10:21:10.223 [] [] [main] ERROR c.d.logging.TestLoggingService - 
❌ TEST ERROR: 管理員登入過程發生錯誤: I/O error on POST request for "http://localhost:55615/api/auth/login": cannot retry due to server authentication, in streaming mode
DETAILS: org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:55615/api/auth/login": cannot retry due to server authentication, in streaming mode
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:55615/api/auth/login": cannot retry due to server authentication, in streaming mode
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:885)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:781)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:663)
	at org.springframework.boot.test.web.client.TestRestTemplate.exchange(TestRestTemplate.java:711)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.loginAsAdmin(ConcertCreationIntegrationTest.java:192)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.setUp(ConcertCreationIntegrationTest.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:521)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:506)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:175)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:172)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: java.net.HttpRetryException: cannot retry due to server authentication, in streaming mode
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1794)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)
	at org.springframework.http.client.SimpleClientHttpResponse.getStatusCode(SimpleClientHttpResponse.java:55)
	at org.springframework.web.client.DefaultResponseErrorHandler.hasError(DefaultResponseErrorHandler.java:83)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:921)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:881)
	... 79 common frames omitted
2025-04-09 10:21:10.250 [] [] [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-09 10:21:10.251 [] [] [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-09 10:21:10.253 [] [] [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-09 10:21:24.097 [] [] [main] INFO  c.d.t.ConcertCreationIntegrationTest - Starting ConcertCreationIntegrationTest using Java 17.0.6 with PID 46875 (started by alanp in /Users/alanp/digital-concert-hall/backend)
2025-04-09 10:21:24.098 [] [] [main] DEBUG c.d.t.ConcertCreationIntegrationTest - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-04-09 10:21:24.098 [] [] [main] INFO  c.d.t.ConcertCreationIntegrationTest - The following 2 profiles are active: "test", "logging"
2025-04-09 10:21:24.411 [] [] [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-09 10:21:24.455 [] [] [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 8 JPA repository interfaces.
2025-04-09 10:21:24.836 [] [] [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 0 (http)
2025-04-09 10:21:24.840 [] [] [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-09 10:21:24.840 [] [] [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-04-09 10:21:24.866 [] [] [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-09 10:21:24.866 [] [] [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 760 ms
2025-04-09 10:21:24.889 [] [] [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-09 10:21:24.960 [] [] [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-04-09 10:21:24.961 [] [] [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-09 10:21:24.966 [] [] [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-04-09 10:21:25.038 [] [] [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-09 10:21:25.058 [] [] [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-04-09 10:21:25.071 [] [] [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-09 10:21:25.160 [] [] [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-09 10:21:25.177 [] [] [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-09 10:21:25.598 [] [] [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-09 10:21:25.616 [] [] [main] DEBUG org.hibernate.SQL - create table concerts (id bigint generated by default as identity, brochure_url varchar(255), created_at timestamp(6) not null, description TEXT, end_date_time timestamp(6) not null, poster_url varchar(255), program_details TEXT, start_date_time timestamp(6) not null, status varchar(20) not null, title varchar(200) not null, updated_at timestamp(6) not null, primary key (id))
2025-04-09 10:21:25.620 [] [] [main] DEBUG org.hibernate.SQL - create table order_items (id bigint generated by default as identity, quantity integer not null, subtotal numeric(10,2) not null, unit_price numeric(10,2) not null, order_id bigint not null, ticket_id bigint not null, primary key (id))
2025-04-09 10:21:25.621 [] [] [main] DEBUG org.hibernate.SQL - create table orders (id bigint generated by default as identity, order_date timestamp(6) not null, order_number varchar(255) not null, payment_method varchar(50), payment_status varchar(20) not null, status varchar(20) not null, total_amount numeric(10,2) not null, user_id bigint not null, primary key (id))
2025-04-09 10:21:25.622 [] [] [main] DEBUG org.hibernate.SQL - create table performances (id bigint generated by default as identity, end_time timestamp(6) not null, livestream_url varchar(255), recording_url varchar(255), start_time timestamp(6) not null, status varchar(20) not null, venue varchar(100) not null, concert_id bigint not null, primary key (id))
2025-04-09 10:21:25.622 [] [] [main] DEBUG org.hibernate.SQL - create table roles (id integer generated by default as identity, name varchar(20) check (name in ('ROLE_USER','ROLE_MODERATOR','ROLE_ADMIN')), primary key (id))
2025-04-09 10:21:25.623 [] [] [main] DEBUG org.hibernate.SQL - create table ticket_types (id bigint generated by default as identity, color_code varchar(20), created_at timestamp(6) not null, description varchar(255), name varchar(50) not null, price numeric(10,2) not null, primary key (id))
2025-04-09 10:21:25.624 [] [] [main] DEBUG org.hibernate.SQL - create table tickets (id bigint generated by default as identity, available_quantity integer not null, created_at timestamp(6) not null, description varchar(255), price numeric(10,2), status varchar(255), total_quantity integer not null, performance_id bigint not null, ticket_type_id bigint not null, primary key (id))
2025-04-09 10:21:25.624 [] [] [main] DEBUG org.hibernate.SQL - create table user_roles (user_id bigint not null, role_id integer not null, primary key (user_id, role_id))
2025-04-09 10:21:25.625 [] [] [main] DEBUG org.hibernate.SQL - create table user_tickets (id bigint generated by default as identity, created_at timestamp(6) not null, is_used boolean not null, ticket_code varchar(255) not null, updated_at timestamp(6) not null, order_item_id bigint not null, user_id bigint not null, primary key (id))
2025-04-09 10:21:25.626 [] [] [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, created_at timestamp(6), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), reset_password_token varchar(255), reset_password_token_expiry timestamp(6), updated_at timestamp(6), username varchar(255), primary key (id))
2025-04-09 10:21:25.627 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders drop constraint if exists UK_nthkiu7pgmnqnu86i2jyoe2v7
2025-04-09 10:21:25.627 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders add constraint UK_nthkiu7pgmnqnu86i2jyoe2v7 unique (order_number)
2025-04-09 10:21:25.627 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets drop constraint if exists UK_5kxnsqfwpop53fu9y4dm2ivxr
2025-04-09 10:21:25.628 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint UK_5kxnsqfwpop53fu9y4dm2ivxr unique (ticket_code)
2025-04-09 10:21:25.628 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2025-04-09 10:21:25.628 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2025-04-09 10:21:25.628 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7
2025-04-09 10:21:25.629 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-04-09 10:21:25.630 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists order_items add constraint FKbioxgbv59vetrxe0ejfubep1w foreign key (order_id) references orders
2025-04-09 10:21:25.632 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists order_items add constraint FKt2ynanr8tfohjdpkrjiajbmc foreign key (ticket_id) references tickets
2025-04-09 10:21:25.633 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users
2025-04-09 10:21:25.634 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists performances add constraint FKqgw8m05tetv1vx8xiioikot8q foreign key (concert_id) references concerts
2025-04-09 10:21:25.634 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists tickets add constraint FKs04a7r9lnv2g10dffp31ox6vi foreign key (performance_id) references performances
2025-04-09 10:21:25.635 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists tickets add constraint FKotik7mbbb14hu8n9og7o92k5h foreign key (ticket_type_id) references ticket_types
2025-04-09 10:21:25.636 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 foreign key (role_id) references roles
2025-04-09 10:21:25.637 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users
2025-04-09 10:21:25.637 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint FKlc2lk84hg4px6vmbtstwp0xre foreign key (order_item_id) references order_items
2025-04-09 10:21:25.638 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint FK9ok1dlkt49it7wyeh529wy315 foreign key (user_id) references users
2025-04-09 10:21:25.639 [] [] [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-09 10:21:25.896 [] [] [main] DEBUG c.d.security.jwt.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2025-04-09 10:21:25.896 [] [] [main] DEBUG c.d.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-04-09 10:21:25.896 [] [] [main] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-09 10:21:25.896 [] [] [main] DEBUG c.d.logging.EnhancedLoggingFilter - Filter 'enhancedLoggingFilter' configured for use
2025-04-09 10:21:26.045 [] [] [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-09 10:21:26.346 [] [] [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-09 10:21:26.508 [] [] [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1945b6db, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a1cac17, org.springframework.security.web.context.SecurityContextHolderFilter@66e17bf2, org.springframework.security.web.header.HeaderWriterFilter@5c9844a4, org.springframework.web.filter.CorsFilter@1233f419, org.springframework.security.web.authentication.logout.LogoutFilter@25a218a, com.digitalconcerthall.security.jwt.AuthTokenFilter@7104b117, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21707a18, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ac93b87, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5271c49b, org.springframework.security.web.session.SessionManagementFilter@4913465d, org.springframework.security.web.access.ExceptionTranslationFilter@37c5e2e6, org.springframework.security.web.access.intercept.AuthorizationFilter@2b867623]
2025-04-09 10:21:26.675 [] [] [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 55629 (http) with context path ''
2025-04-09 10:21:26.691 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_USER")
2025-04-09 10:21:26.738 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:21:26.741 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 49 ms
2025-04-09 10:21:26.748 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:21:26.750 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_USER"
})
2025-04-09 10:21:26.771 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 10:21:26.777 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 27 ms
2025-04-09 10:21:26.778 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 1,
  "name" : "ROLE_USER"
}
2025-04-09 10:21:26.779 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_MODERATOR")
2025-04-09 10:21:26.780 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:21:26.782 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 2 ms
2025-04-09 10:21:26.782 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:21:26.782 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_MODERATOR"
})
2025-04-09 10:21:26.783 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 10:21:26.784 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 1 ms
2025-04-09 10:21:26.784 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 2,
  "name" : "ROLE_MODERATOR"
}
2025-04-09 10:21:26.784 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_ADMIN")
2025-04-09 10:21:26.785 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:21:26.786 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 1 ms
2025-04-09 10:21:26.786 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:21:26.786 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_ADMIN"
})
2025-04-09 10:21:26.786 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 10:21:26.787 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 0 ms
2025-04-09 10:21:26.787 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 3,
  "name" : "ROLE_ADMIN"
}
2025-04-09 10:21:26.789 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy154.findByEmail] - $Proxy154.findByEmail(email="admin@digitalconcert.com")
2025-04-09 10:21:26.791 [] [$Proxy154.findByEmail] [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password,u1_0.reset_password_token,u1_0.reset_password_token_expiry,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-09 10:21:26.792 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy154.findByEmail] - $Proxy154.findByEmail completed in 2 ms
2025-04-09 10:21:26.792 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy154.findByEmail]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:21:26.792 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_ADMIN")
2025-04-09 10:21:26.793 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:21:26.797 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 4 ms
2025-04-09 10:21:26.797 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : false,
  "present" : true
}
2025-04-09 10:21:26.886 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy154.save] - $Proxy154.save(entity={
  "id" : null,
  "username" : "admin@digitalconcert.com",
  "email" : "admin@digitalconcert.com",
  "password" : "$2a$10$IVbohLlFcXW.ZsOgYa3o8OzQbM7Sk0SnLRz/YKckkRBZa5uc/yfxS",
  "firstName" : null,
  "lastName" : null,
  "resetPasswordToken" : null,
  "resetPasswordTokenExpiry" : null,
  "roles" : [ {
    "id" : 3,
    "name" : "ROLE_ADMIN"
  } ],
  "createdAt" : null,
  "updatedAt" : null,
  "orders" : [ ],
  "userTickets" : [ ]
})
2025-04-09 10:21:26.906 [] [$Proxy154.save] [main] DEBUG org.hibernate.SQL - insert into users (created_at,email,first_name,last_name,password,reset_password_token,reset_password_token_expiry,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,default)
2025-04-09 10:21:26.908 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy154.save] - $Proxy154.save completed in 21 ms
2025-04-09 10:21:26.912 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy154.save]: {
  "id" : 1,
  "username" : "admin@digitalconcert.com",
  "email" : "admin@digitalconcert.com",
  "password" : "$2a$10$IVbohLlFcXW.ZsOgYa3o8OzQbM7Sk0SnLRz/YKckkRBZa5uc/yfxS",
  "firstName" : null,
  "lastName" : null,
  "resetPasswordToken" : null,
  "resetPasswordTokenExpiry" : null,
  "roles" : [ {
    "id" : 3,
    "name" : "ROLE_ADMIN"
  } ],
  "createdAt" : "2025-04-09T10:21:26.88742",
  "updatedAt" : "2025-04-09T10:21:26.887423",
  "orders" : [ ],
  "userTickets" : [ ]
}
2025-04-09 10:21:26.916 [] [] [main] DEBUG org.hibernate.SQL - insert into user_roles (user_id,role_id) values (?,?)
2025-04-09 10:21:26.918 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.count] - $Proxy155.count()
2025-04-09 10:21:26.922 [] [$Proxy155.count] [main] DEBUG org.hibernate.SQL - select count(*) from roles r1_0
2025-04-09 10:21:26.923 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.count] - $Proxy155.count completed in 5 ms
2025-04-09 10:21:26.923 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.count]: 3
2025-04-09 10:21:26.924 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.count] - $Proxy155.count()
2025-04-09 10:21:26.925 [] [$Proxy155.count] [main] DEBUG org.hibernate.SQL - select count(*) from roles r1_0
2025-04-09 10:21:26.925 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.count] - $Proxy155.count completed in 0 ms
2025-04-09 10:21:26.925 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.count]: 3
2025-04-09 10:21:27.192 [] [] [main] INFO  c.d.logging.TestLoggingService - 
▶▶▶ TEST STARTED ▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶
TEST ID: T20250409-102127--001
NAME: 音樂會創建測試
DESCRIPTION: 測試管理員是否能成功創建音樂會，並驗證創建的音樂會數據是否正確
TAGS: [api, concert, admin]
START TIME: 20250409-102127
▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶
2025-04-09 10:21:27.192 [] [] [main] INFO  c.d.logging.TestLoggingService - 
→ TEST STEP #1 - 管理員登入
DETAILS: 使用管理員帳號登入系統，獲取JWT令牌
2025-04-09 10:21:27.240 [] [] [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-09 10:21:27.241 [] [] [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-09 10:21:27.241 [] [] [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-04-09 10:21:27.244 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-04-09 10:21:27.248 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-04-09 10:21:27.248 [] [] [http-nio-auto-1-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-04-09 10:21:27.252 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-04-09 10:21:27.254 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/auth/login, headers=[accept:"application/json, application/*+json", user-agent:"Java/17.0.6", host:"localhost:55629", connection:"keep-alive", transfer-encoding:"chunked", Content-Type:"application/json;charset=UTF-8"]]
2025-04-09 10:21:27.255 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] INFO  c.d.logging.EnhancedLoggingFilter - 
━━━━━ REQUEST ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ID: 9b1a594c91c34227a30503664251a469
URI: /api/auth/login
METHOD: POST
QUERY: 
CLIENT IP: 127.0.0.1
HEADERS: [accept: application/json, application/*+json, content-type: application/json, user-agent: Java/17.0.6, host: localhost:55629, connection: keep-alive, transfer-encoding: chunked]
BODY: 
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

2025-04-09 10:21:27.273 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [9b1a594c91c34227a30503664251a469] - AuthController.authenticateUser(loginRequest={
  "username" : "admin",
  "password" : "admin123"
})
2025-04-09 10:21:27.274 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [9b1a594c91c34227a30503664251a469] - AuthServiceImpl.authenticateUser(loginRequest={
  "username" : "admin",
  "password" : "admin123"
})
2025-04-09 10:21:27.354 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [9b1a594c91c34227a30503664251a469] - $Proxy154.findByUsername(username="admin")
2025-04-09 10:21:27.356 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password,u1_0.reset_password_token,u1_0.reset_password_token_expiry,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-09 10:21:27.357 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [9b1a594c91c34227a30503664251a469] - $Proxy154.findByUsername completed in 1 ms
2025-04-09 10:21:27.357 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [9b1a594c91c34227a30503664251a469]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:21:27.358 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [9b1a594c91c34227a30503664251a469] - $Proxy154.count()
2025-04-09 10:21:27.358 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2025-04-09 10:21:27.359 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [9b1a594c91c34227a30503664251a469] - $Proxy154.count completed in 1 ms
2025-04-09 10:21:27.359 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [9b1a594c91c34227a30503664251a469]: 1
2025-04-09 10:21:27.359 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [9b1a594c91c34227a30503664251a469] - $Proxy154.findByEmail(email="admin")
2025-04-09 10:21:27.360 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password,u1_0.reset_password_token,u1_0.reset_password_token_expiry,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-09 10:21:27.360 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [9b1a594c91c34227a30503664251a469] - $Proxy154.findByEmail completed in 1 ms
2025-04-09 10:21:27.361 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [9b1a594c91c34227a30503664251a469]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:21:27.446 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to find user 'admin'
2025-04-09 10:21:27.446 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] ERROR c.d.logging.MethodLoggingAspect - 
❌ Method Exception [9b1a594c91c34227a30503664251a469] - AuthServiceImpl.authenticateUser: Bad credentials
org.springframework.security.authentication.BadCredentialsException: Bad credentials
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:141)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at com.digitalconcerthall.service.impl.AuthServiceImpl.authenticateUser(AuthServiceImpl.java:61)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.digitalconcerthall.logging.MethodLoggingAspect.logMethodExecution(MethodLoggingAspect.java:94)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.digitalconcerthall.service.impl.AuthServiceImpl$$SpringCGLIB$$0.authenticateUser(<generated>)
	at com.digitalconcerthall.controller.AuthController.authenticateUser(AuthController.java:38)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.digitalconcerthall.logging.MethodLoggingAspect.logMethodExecution(MethodLoggingAspect.java:94)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.digitalconcerthall.controller.AuthController$$SpringCGLIB$$0.authenticateUser(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.digitalconcerthall.logging.EnhancedLoggingFilter.doFilterInternal(EnhancedLoggingFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.digitalconcerthall.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.digitalconcerthall.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2025-04-09 10:21:27.450 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [9b1a594c91c34227a30503664251a469] - AuthController.authenticateUser completed in 176 ms
2025-04-09 10:21:27.496 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [9b1a594c91c34227a30503664251a469]: {
  "headers" : { },
  "body" : {
    "message" : "Authentication failed: Bad credentials"
  },
  "statusCodeValue" : 401,
  "statusCode" : "UNAUTHORIZED"
}
2025-04-09 10:21:27.504 [9b1a594c91c34227a30503664251a469] [] [http-nio-auto-1-exec-1] ERROR c.d.logging.EnhancedLoggingFilter - 
━━━━━ RESPONSE ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ID: 9b1a594c91c34227a30503664251a469
STATUS: 401
DURATION: 248 ms
HEADERS: [Vary: Origin, Vary: Origin, Vary: Origin]
BODY: {
  "message" : "Authentication failed: Bad credentials"
}
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

2025-04-09 10:21:27.510 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/auth/login, headers=[accept:"application/json, application/*+json", user-agent:"Java/17.0.6", host:"localhost:55629", connection:"keep-alive", transfer-encoding:"chunked", Content-Type:"application/json;charset=UTF-8"], payload={"username":"admin","password":"admin123"}]
2025-04-09 10:21:27.514 [] [] [main] ERROR c.d.logging.TestLoggingService - 
❌ TEST ERROR: 管理員登入過程發生錯誤: I/O error on POST request for "http://localhost:55629/api/auth/login": cannot retry due to server authentication, in streaming mode
DETAILS: org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:55629/api/auth/login": cannot retry due to server authentication, in streaming mode
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:55629/api/auth/login": cannot retry due to server authentication, in streaming mode
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:885)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:781)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:663)
	at org.springframework.boot.test.web.client.TestRestTemplate.exchange(TestRestTemplate.java:711)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.loginAsAdmin(ConcertCreationIntegrationTest.java:192)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.setUp(ConcertCreationIntegrationTest.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:521)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:506)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:175)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:172)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: java.net.HttpRetryException: cannot retry due to server authentication, in streaming mode
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1794)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)
	at org.springframework.http.client.SimpleClientHttpResponse.getStatusCode(SimpleClientHttpResponse.java:55)
	at org.springframework.web.client.DefaultResponseErrorHandler.hasError(DefaultResponseErrorHandler.java:83)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:921)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:881)
	... 79 common frames omitted
2025-04-09 10:21:27.540 [] [] [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-09 10:21:27.543 [] [] [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-09 10:21:27.545 [] [] [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-09 10:35:48.603 [] [] [main] INFO  c.d.t.ConcertCreationIntegrationTest - Starting ConcertCreationIntegrationTest using Java 17.0.6 with PID 51330 (started by alanp in /Users/alanp/digital-concert-hall/backend)
2025-04-09 10:35:48.604 [] [] [main] DEBUG c.d.t.ConcertCreationIntegrationTest - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-04-09 10:35:48.604 [] [] [main] INFO  c.d.t.ConcertCreationIntegrationTest - The following 2 profiles are active: "test", "logging"
2025-04-09 10:35:48.865 [] [] [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-09 10:35:48.897 [] [] [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 8 JPA repository interfaces.
2025-04-09 10:35:49.241 [] [] [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 0 (http)
2025-04-09 10:35:49.245 [] [] [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-09 10:35:49.245 [] [] [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-04-09 10:35:49.269 [] [] [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-09 10:35:49.270 [] [] [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 659 ms
2025-04-09 10:35:49.294 [] [] [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-09 10:35:49.359 [] [] [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-04-09 10:35:49.359 [] [] [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-09 10:35:49.364 [] [] [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-04-09 10:35:49.430 [] [] [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-09 10:35:49.447 [] [] [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-04-09 10:35:49.458 [] [] [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-09 10:35:49.535 [] [] [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-09 10:35:49.550 [] [] [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-09 10:35:49.947 [] [] [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-09 10:35:49.965 [] [] [main] DEBUG org.hibernate.SQL - create table concerts (id bigint generated by default as identity, brochure_url varchar(255), created_at timestamp(6) not null, description TEXT, end_date_time timestamp(6) not null, poster_url varchar(255), program_details TEXT, start_date_time timestamp(6) not null, status varchar(20) not null, title varchar(200) not null, updated_at timestamp(6) not null, primary key (id))
2025-04-09 10:35:49.968 [] [] [main] DEBUG org.hibernate.SQL - create table order_items (id bigint generated by default as identity, quantity integer not null, subtotal numeric(10,2) not null, unit_price numeric(10,2) not null, order_id bigint not null, ticket_id bigint not null, primary key (id))
2025-04-09 10:35:49.969 [] [] [main] DEBUG org.hibernate.SQL - create table orders (id bigint generated by default as identity, order_date timestamp(6) not null, order_number varchar(255) not null, payment_method varchar(50), payment_status varchar(20) not null, status varchar(20) not null, total_amount numeric(10,2) not null, user_id bigint not null, primary key (id))
2025-04-09 10:35:49.970 [] [] [main] DEBUG org.hibernate.SQL - create table performances (id bigint generated by default as identity, end_time timestamp(6) not null, livestream_url varchar(255), recording_url varchar(255), start_time timestamp(6) not null, status varchar(20) not null, venue varchar(100) not null, concert_id bigint not null, primary key (id))
2025-04-09 10:35:49.971 [] [] [main] DEBUG org.hibernate.SQL - create table roles (id integer generated by default as identity, name varchar(20) check (name in ('ROLE_USER','ROLE_MODERATOR','ROLE_ADMIN')), primary key (id))
2025-04-09 10:35:49.972 [] [] [main] DEBUG org.hibernate.SQL - create table ticket_types (id bigint generated by default as identity, color_code varchar(20), created_at timestamp(6) not null, description varchar(255), name varchar(50) not null, price numeric(10,2) not null, primary key (id))
2025-04-09 10:35:49.972 [] [] [main] DEBUG org.hibernate.SQL - create table tickets (id bigint generated by default as identity, available_quantity integer not null, created_at timestamp(6) not null, description varchar(255), price numeric(10,2), status varchar(255), total_quantity integer not null, performance_id bigint not null, ticket_type_id bigint not null, primary key (id))
2025-04-09 10:35:49.973 [] [] [main] DEBUG org.hibernate.SQL - create table user_roles (user_id bigint not null, role_id integer not null, primary key (user_id, role_id))
2025-04-09 10:35:49.974 [] [] [main] DEBUG org.hibernate.SQL - create table user_tickets (id bigint generated by default as identity, created_at timestamp(6) not null, is_used boolean not null, ticket_code varchar(255) not null, updated_at timestamp(6) not null, order_item_id bigint not null, user_id bigint not null, primary key (id))
2025-04-09 10:35:49.974 [] [] [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, created_at timestamp(6), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), reset_password_token varchar(255), reset_password_token_expiry timestamp(6), updated_at timestamp(6), username varchar(255), primary key (id))
2025-04-09 10:35:49.975 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders drop constraint if exists UK_nthkiu7pgmnqnu86i2jyoe2v7
2025-04-09 10:35:49.976 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders add constraint UK_nthkiu7pgmnqnu86i2jyoe2v7 unique (order_number)
2025-04-09 10:35:49.976 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets drop constraint if exists UK_5kxnsqfwpop53fu9y4dm2ivxr
2025-04-09 10:35:49.976 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint UK_5kxnsqfwpop53fu9y4dm2ivxr unique (ticket_code)
2025-04-09 10:35:49.977 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2025-04-09 10:35:49.977 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2025-04-09 10:35:49.977 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7
2025-04-09 10:35:49.977 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-04-09 10:35:49.979 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists order_items add constraint FKbioxgbv59vetrxe0ejfubep1w foreign key (order_id) references orders
2025-04-09 10:35:49.981 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists order_items add constraint FKt2ynanr8tfohjdpkrjiajbmc foreign key (ticket_id) references tickets
2025-04-09 10:35:49.981 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users
2025-04-09 10:35:49.982 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists performances add constraint FKqgw8m05tetv1vx8xiioikot8q foreign key (concert_id) references concerts
2025-04-09 10:35:49.983 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists tickets add constraint FKs04a7r9lnv2g10dffp31ox6vi foreign key (performance_id) references performances
2025-04-09 10:35:49.984 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists tickets add constraint FKotik7mbbb14hu8n9og7o92k5h foreign key (ticket_type_id) references ticket_types
2025-04-09 10:35:49.985 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 foreign key (role_id) references roles
2025-04-09 10:35:49.986 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users
2025-04-09 10:35:49.987 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint FKlc2lk84hg4px6vmbtstwp0xre foreign key (order_item_id) references order_items
2025-04-09 10:35:49.987 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint FK9ok1dlkt49it7wyeh529wy315 foreign key (user_id) references users
2025-04-09 10:35:49.989 [] [] [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-09 10:35:50.237 [] [] [main] DEBUG c.d.security.jwt.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2025-04-09 10:35:50.237 [] [] [main] DEBUG c.d.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-04-09 10:35:50.237 [] [] [main] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-09 10:35:50.237 [] [] [main] DEBUG c.d.logging.EnhancedLoggingFilter - Filter 'enhancedLoggingFilter' configured for use
2025-04-09 10:35:50.365 [] [] [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-09 10:35:50.628 [] [] [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-09 10:35:50.784 [] [] [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@25a218a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@411e5672, org.springframework.security.web.context.SecurityContextHolderFilter@3e43fb40, org.springframework.security.web.header.HeaderWriterFilter@72bd8702, org.springframework.web.filter.CorsFilter@1efdaec0, org.springframework.security.web.authentication.logout.LogoutFilter@1edad178, com.digitalconcerthall.security.jwt.AuthTokenFilter@33319df0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e8ec0d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a7f6678, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@42e7e12f, org.springframework.security.web.session.SessionManagementFilter@4655e059, org.springframework.security.web.access.ExceptionTranslationFilter@3da068e8, org.springframework.security.web.access.intercept.AuthorizationFilter@2a9eb44d]
2025-04-09 10:35:50.940 [] [] [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 55704 (http) with context path ''
2025-04-09 10:35:50.954 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_USER")
2025-04-09 10:35:50.993 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:35:50.996 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 41 ms
2025-04-09 10:35:51.003 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:35:51.004 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_USER"
})
2025-04-09 10:35:51.022 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 10:35:51.028 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 23 ms
2025-04-09 10:35:51.029 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 1,
  "name" : "ROLE_USER"
}
2025-04-09 10:35:51.029 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_MODERATOR")
2025-04-09 10:35:51.030 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:35:51.031 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 1 ms
2025-04-09 10:35:51.031 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:35:51.031 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_MODERATOR"
})
2025-04-09 10:35:51.032 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 10:35:51.032 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 0 ms
2025-04-09 10:35:51.033 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 2,
  "name" : "ROLE_MODERATOR"
}
2025-04-09 10:35:51.033 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_ADMIN")
2025-04-09 10:35:51.034 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:35:51.034 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 0 ms
2025-04-09 10:35:51.034 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:35:51.034 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_ADMIN"
})
2025-04-09 10:35:51.035 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 10:35:51.035 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 0 ms
2025-04-09 10:35:51.035 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 3,
  "name" : "ROLE_ADMIN"
}
2025-04-09 10:35:51.037 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy154.findByEmail] - $Proxy154.findByEmail(email="admin@digitalconcert.com")
2025-04-09 10:35:51.039 [] [$Proxy154.findByEmail] [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password,u1_0.reset_password_token,u1_0.reset_password_token_expiry,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-09 10:35:51.040 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy154.findByEmail] - $Proxy154.findByEmail completed in 2 ms
2025-04-09 10:35:51.040 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy154.findByEmail]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:35:51.040 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_ADMIN")
2025-04-09 10:35:51.041 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:35:51.043 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 2 ms
2025-04-09 10:35:51.043 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : false,
  "present" : true
}
2025-04-09 10:35:51.124 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy154.save] - $Proxy154.save(entity={
  "id" : null,
  "username" : "admin@digitalconcert.com",
  "email" : "admin@digitalconcert.com",
  "password" : "$2a$10$swyxTcWt5Ty1xnT85OyAkuvEg.JItR0CzWB6PRugjC4AVqhjNCVzK",
  "firstName" : null,
  "lastName" : null,
  "resetPasswordToken" : null,
  "resetPasswordTokenExpiry" : null,
  "roles" : [ {
    "id" : 3,
    "name" : "ROLE_ADMIN"
  } ],
  "createdAt" : null,
  "updatedAt" : null,
  "orders" : [ ],
  "userTickets" : [ ]
})
2025-04-09 10:35:51.143 [] [$Proxy154.save] [main] DEBUG org.hibernate.SQL - insert into users (created_at,email,first_name,last_name,password,reset_password_token,reset_password_token_expiry,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,default)
2025-04-09 10:35:51.145 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy154.save] - $Proxy154.save completed in 20 ms
2025-04-09 10:35:51.148 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy154.save]: {
  "id" : 1,
  "username" : "admin@digitalconcert.com",
  "email" : "admin@digitalconcert.com",
  "password" : "$2a$10$swyxTcWt5Ty1xnT85OyAkuvEg.JItR0CzWB6PRugjC4AVqhjNCVzK",
  "firstName" : null,
  "lastName" : null,
  "resetPasswordToken" : null,
  "resetPasswordTokenExpiry" : null,
  "roles" : [ {
    "id" : 3,
    "name" : "ROLE_ADMIN"
  } ],
  "createdAt" : "2025-04-09T10:35:51.125605",
  "updatedAt" : "2025-04-09T10:35:51.125613",
  "orders" : [ ],
  "userTickets" : [ ]
}
2025-04-09 10:35:51.152 [] [] [main] DEBUG org.hibernate.SQL - insert into user_roles (user_id,role_id) values (?,?)
2025-04-09 10:35:51.153 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.count] - $Proxy155.count()
2025-04-09 10:35:51.158 [] [$Proxy155.count] [main] DEBUG org.hibernate.SQL - select count(*) from roles r1_0
2025-04-09 10:35:51.158 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.count] - $Proxy155.count completed in 4 ms
2025-04-09 10:35:51.158 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.count]: 3
2025-04-09 10:35:51.159 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.count] - $Proxy155.count()
2025-04-09 10:35:51.159 [] [$Proxy155.count] [main] DEBUG org.hibernate.SQL - select count(*) from roles r1_0
2025-04-09 10:35:51.160 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.count] - $Proxy155.count completed in 0 ms
2025-04-09 10:35:51.160 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.count]: 3
2025-04-09 10:35:51.419 [] [] [main] INFO  c.d.logging.TestLoggingService - 
▶▶▶ TEST STARTED ▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶
TEST ID: T20250409-103551--001
NAME: 音樂會創建測試
DESCRIPTION: 測試管理員是否能成功創建音樂會，並驗證創建的音樂會數據是否正確
TAGS: [api, concert, admin]
START TIME: 20250409-103551
▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶
2025-04-09 10:35:51.419 [] [] [main] INFO  c.d.logging.TestLoggingService - 
→ TEST STEP #1 - 管理員登入
DETAILS: 使用管理員帳號登入系統，獲取JWT令牌
2025-04-09 10:35:51.461 [] [] [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-09 10:35:51.462 [] [] [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-09 10:35:51.462 [] [] [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-04-09 10:35:51.465 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-04-09 10:35:51.468 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-04-09 10:35:51.468 [] [] [http-nio-auto-1-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-04-09 10:35:51.471 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-04-09 10:35:51.473 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/auth/login, headers=[accept:"application/json, application/*+json", user-agent:"Java/17.0.6", host:"localhost:55704", connection:"keep-alive", transfer-encoding:"chunked", Content-Type:"application/json;charset=UTF-8"]]
2025-04-09 10:35:51.473 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] INFO  c.d.logging.EnhancedLoggingFilter - 
━━━━━ REQUEST ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ID: a5fce3a59688458d870f93216861a637
URI: /api/auth/login
METHOD: POST
QUERY: 
CLIENT IP: 127.0.0.1
HEADERS: [accept: application/json, application/*+json, content-type: application/json, user-agent: Java/17.0.6, host: localhost:55704, connection: keep-alive, transfer-encoding: chunked]
BODY: 
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

2025-04-09 10:35:51.490 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [a5fce3a59688458d870f93216861a637] - AuthController.authenticateUser(loginRequest={
  "username" : "admin",
  "password" : "admin123"
})
2025-04-09 10:35:51.491 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [a5fce3a59688458d870f93216861a637] - AuthServiceImpl.authenticateUser(loginRequest={
  "username" : "admin",
  "password" : "admin123"
})
2025-04-09 10:35:51.570 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [a5fce3a59688458d870f93216861a637] - $Proxy154.findByUsername(username="admin")
2025-04-09 10:35:51.571 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password,u1_0.reset_password_token,u1_0.reset_password_token_expiry,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-09 10:35:51.572 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [a5fce3a59688458d870f93216861a637] - $Proxy154.findByUsername completed in 1 ms
2025-04-09 10:35:51.572 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [a5fce3a59688458d870f93216861a637]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:35:51.572 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [a5fce3a59688458d870f93216861a637] - $Proxy154.count()
2025-04-09 10:35:51.573 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2025-04-09 10:35:51.573 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [a5fce3a59688458d870f93216861a637] - $Proxy154.count completed in 1 ms
2025-04-09 10:35:51.574 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [a5fce3a59688458d870f93216861a637]: 1
2025-04-09 10:35:51.574 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [a5fce3a59688458d870f93216861a637] - $Proxy154.findByEmail(email="admin")
2025-04-09 10:35:51.575 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password,u1_0.reset_password_token,u1_0.reset_password_token_expiry,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-09 10:35:51.575 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [a5fce3a59688458d870f93216861a637] - $Proxy154.findByEmail completed in 1 ms
2025-04-09 10:35:51.576 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [a5fce3a59688458d870f93216861a637]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:35:51.705 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to find user 'admin'
2025-04-09 10:35:51.706 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] ERROR c.d.logging.MethodLoggingAspect - 
❌ Method Exception [a5fce3a59688458d870f93216861a637] - AuthServiceImpl.authenticateUser: Bad credentials
org.springframework.security.authentication.BadCredentialsException: Bad credentials
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:141)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at com.digitalconcerthall.service.impl.AuthServiceImpl.authenticateUser(AuthServiceImpl.java:61)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.digitalconcerthall.logging.MethodLoggingAspect.logMethodExecution(MethodLoggingAspect.java:94)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.digitalconcerthall.service.impl.AuthServiceImpl$$SpringCGLIB$$0.authenticateUser(<generated>)
	at com.digitalconcerthall.controller.AuthController.authenticateUser(AuthController.java:38)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.digitalconcerthall.logging.MethodLoggingAspect.logMethodExecution(MethodLoggingAspect.java:94)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.digitalconcerthall.controller.AuthController$$SpringCGLIB$$0.authenticateUser(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.digitalconcerthall.logging.EnhancedLoggingFilter.doFilterInternal(EnhancedLoggingFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.digitalconcerthall.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.digitalconcerthall.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2025-04-09 10:35:51.711 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [a5fce3a59688458d870f93216861a637] - AuthController.authenticateUser completed in 220 ms
2025-04-09 10:35:51.718 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [a5fce3a59688458d870f93216861a637]: {
  "headers" : { },
  "body" : {
    "message" : "Authentication failed: Bad credentials"
  },
  "statusCode" : "UNAUTHORIZED",
  "statusCodeValue" : 401
}
2025-04-09 10:35:51.724 [a5fce3a59688458d870f93216861a637] [] [http-nio-auto-1-exec-1] ERROR c.d.logging.EnhancedLoggingFilter - 
━━━━━ RESPONSE ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ID: a5fce3a59688458d870f93216861a637
STATUS: 401
DURATION: 249 ms
HEADERS: [Vary: Origin, Vary: Origin, Vary: Origin]
BODY: {
  "message" : "Authentication failed: Bad credentials"
}
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

2025-04-09 10:35:51.725 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/auth/login, headers=[accept:"application/json, application/*+json", user-agent:"Java/17.0.6", host:"localhost:55704", connection:"keep-alive", transfer-encoding:"chunked", Content-Type:"application/json;charset=UTF-8"], payload={"username":"admin","password":"admin123"}]
2025-04-09 10:35:51.729 [] [] [main] ERROR c.d.logging.TestLoggingService - 
❌ TEST ERROR: 管理員登入過程發生錯誤: I/O error on POST request for "http://localhost:55704/api/auth/login": cannot retry due to server authentication, in streaming mode
DETAILS: org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:55704/api/auth/login": cannot retry due to server authentication, in streaming mode
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:55704/api/auth/login": cannot retry due to server authentication, in streaming mode
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:885)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:781)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:663)
	at org.springframework.boot.test.web.client.TestRestTemplate.exchange(TestRestTemplate.java:711)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.loginAsAdmin(ConcertCreationIntegrationTest.java:192)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.setUp(ConcertCreationIntegrationTest.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:521)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:506)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:175)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:172)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: java.net.HttpRetryException: cannot retry due to server authentication, in streaming mode
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1794)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)
	at org.springframework.http.client.SimpleClientHttpResponse.getStatusCode(SimpleClientHttpResponse.java:55)
	at org.springframework.web.client.DefaultResponseErrorHandler.hasError(DefaultResponseErrorHandler.java:83)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:921)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:881)
	... 79 common frames omitted
2025-04-09 10:35:51.757 [] [] [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-09 10:35:51.758 [] [] [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-09 10:35:51.760 [] [] [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-09 10:38:50.875 [] [] [main] INFO  c.d.t.ConcertCreationIntegrationTest - Starting ConcertCreationIntegrationTest using Java 17.0.6 with PID 52261 (started by alanp in /Users/alanp/digital-concert-hall/backend)
2025-04-09 10:38:50.875 [] [] [main] DEBUG c.d.t.ConcertCreationIntegrationTest - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-04-09 10:38:50.875 [] [] [main] INFO  c.d.t.ConcertCreationIntegrationTest - The following 2 profiles are active: "test", "logging"
2025-04-09 10:38:51.138 [] [] [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-09 10:38:51.170 [] [] [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 8 JPA repository interfaces.
2025-04-09 10:38:51.519 [] [] [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 0 (http)
2025-04-09 10:38:51.523 [] [] [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-09 10:38:51.523 [] [] [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-04-09 10:38:51.547 [] [] [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-09 10:38:51.548 [] [] [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 664 ms
2025-04-09 10:38:51.572 [] [] [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-09 10:38:51.636 [] [] [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-04-09 10:38:51.637 [] [] [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-09 10:38:51.642 [] [] [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-04-09 10:38:51.705 [] [] [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-09 10:38:51.723 [] [] [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-04-09 10:38:51.735 [] [] [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-09 10:38:51.817 [] [] [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-09 10:38:51.832 [] [] [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-09 10:38:52.229 [] [] [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-09 10:38:52.247 [] [] [main] DEBUG org.hibernate.SQL - create table concerts (id bigint generated by default as identity, brochure_url varchar(255), created_at timestamp(6) not null, description TEXT, end_date_time timestamp(6) not null, poster_url varchar(255), program_details TEXT, start_date_time timestamp(6) not null, status varchar(20) not null, title varchar(200) not null, updated_at timestamp(6) not null, primary key (id))
2025-04-09 10:38:52.250 [] [] [main] DEBUG org.hibernate.SQL - create table order_items (id bigint generated by default as identity, quantity integer not null, subtotal numeric(10,2) not null, unit_price numeric(10,2) not null, order_id bigint not null, ticket_id bigint not null, primary key (id))
2025-04-09 10:38:52.251 [] [] [main] DEBUG org.hibernate.SQL - create table orders (id bigint generated by default as identity, order_date timestamp(6) not null, order_number varchar(255) not null, payment_method varchar(50), payment_status varchar(20) not null, status varchar(20) not null, total_amount numeric(10,2) not null, user_id bigint not null, primary key (id))
2025-04-09 10:38:52.252 [] [] [main] DEBUG org.hibernate.SQL - create table performances (id bigint generated by default as identity, end_time timestamp(6) not null, livestream_url varchar(255), recording_url varchar(255), start_time timestamp(6) not null, status varchar(20) not null, venue varchar(100) not null, concert_id bigint not null, primary key (id))
2025-04-09 10:38:52.253 [] [] [main] DEBUG org.hibernate.SQL - create table roles (id integer generated by default as identity, name varchar(20) check (name in ('ROLE_USER','ROLE_MODERATOR','ROLE_ADMIN')), primary key (id))
2025-04-09 10:38:52.254 [] [] [main] DEBUG org.hibernate.SQL - create table ticket_types (id bigint generated by default as identity, color_code varchar(20), created_at timestamp(6) not null, description varchar(255), name varchar(50) not null, price numeric(10,2) not null, primary key (id))
2025-04-09 10:38:52.254 [] [] [main] DEBUG org.hibernate.SQL - create table tickets (id bigint generated by default as identity, available_quantity integer not null, created_at timestamp(6) not null, description varchar(255), price numeric(10,2), status varchar(255), total_quantity integer not null, performance_id bigint not null, ticket_type_id bigint not null, primary key (id))
2025-04-09 10:38:52.255 [] [] [main] DEBUG org.hibernate.SQL - create table user_roles (user_id bigint not null, role_id integer not null, primary key (user_id, role_id))
2025-04-09 10:38:52.256 [] [] [main] DEBUG org.hibernate.SQL - create table user_tickets (id bigint generated by default as identity, created_at timestamp(6) not null, is_used boolean not null, ticket_code varchar(255) not null, updated_at timestamp(6) not null, order_item_id bigint not null, user_id bigint not null, primary key (id))
2025-04-09 10:38:52.256 [] [] [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, created_at timestamp(6), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), reset_password_token varchar(255), reset_password_token_expiry timestamp(6), updated_at timestamp(6), username varchar(255), primary key (id))
2025-04-09 10:38:52.257 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders drop constraint if exists UK_nthkiu7pgmnqnu86i2jyoe2v7
2025-04-09 10:38:52.257 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders add constraint UK_nthkiu7pgmnqnu86i2jyoe2v7 unique (order_number)
2025-04-09 10:38:52.258 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets drop constraint if exists UK_5kxnsqfwpop53fu9y4dm2ivxr
2025-04-09 10:38:52.258 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint UK_5kxnsqfwpop53fu9y4dm2ivxr unique (ticket_code)
2025-04-09 10:38:52.258 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2025-04-09 10:38:52.259 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2025-04-09 10:38:52.259 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7
2025-04-09 10:38:52.259 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-04-09 10:38:52.260 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists order_items add constraint FKbioxgbv59vetrxe0ejfubep1w foreign key (order_id) references orders
2025-04-09 10:38:52.263 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists order_items add constraint FKt2ynanr8tfohjdpkrjiajbmc foreign key (ticket_id) references tickets
2025-04-09 10:38:52.264 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users
2025-04-09 10:38:52.264 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists performances add constraint FKqgw8m05tetv1vx8xiioikot8q foreign key (concert_id) references concerts
2025-04-09 10:38:52.265 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists tickets add constraint FKs04a7r9lnv2g10dffp31ox6vi foreign key (performance_id) references performances
2025-04-09 10:38:52.266 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists tickets add constraint FKotik7mbbb14hu8n9og7o92k5h foreign key (ticket_type_id) references ticket_types
2025-04-09 10:38:52.266 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 foreign key (role_id) references roles
2025-04-09 10:38:52.267 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users
2025-04-09 10:38:52.268 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint FKlc2lk84hg4px6vmbtstwp0xre foreign key (order_item_id) references order_items
2025-04-09 10:38:52.268 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint FK9ok1dlkt49it7wyeh529wy315 foreign key (user_id) references users
2025-04-09 10:38:52.269 [] [] [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-09 10:38:52.498 [] [] [main] DEBUG c.d.security.jwt.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2025-04-09 10:38:52.498 [] [] [main] DEBUG c.d.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-04-09 10:38:52.498 [] [] [main] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-09 10:38:52.498 [] [] [main] DEBUG c.d.logging.EnhancedLoggingFilter - Filter 'enhancedLoggingFilter' configured for use
2025-04-09 10:38:52.628 [] [] [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-09 10:38:52.887 [] [] [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-09 10:38:53.029 [] [] [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@a1cac17, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1233f419, org.springframework.security.web.context.SecurityContextHolderFilter@3593e8dd, org.springframework.security.web.header.HeaderWriterFilter@3beee525, org.springframework.web.filter.CorsFilter@5271c49b, org.springframework.security.web.authentication.logout.LogoutFilter@411e5672, com.digitalconcerthall.security.jwt.AuthTokenFilter@74597c37, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ac93b87, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71af3c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66b65360, org.springframework.security.web.session.SessionManagementFilter@4aebd384, org.springframework.security.web.access.ExceptionTranslationFilter@342cc706, org.springframework.security.web.access.intercept.AuthorizationFilter@6c8590f4]
2025-04-09 10:38:53.175 [] [] [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 55755 (http) with context path ''
2025-04-09 10:38:53.189 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_USER")
2025-04-09 10:38:53.229 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:38:53.232 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 42 ms
2025-04-09 10:38:53.238 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:38:53.240 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_USER"
})
2025-04-09 10:38:53.258 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 10:38:53.264 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 23 ms
2025-04-09 10:38:53.264 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 1,
  "name" : "ROLE_USER"
}
2025-04-09 10:38:53.265 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_MODERATOR")
2025-04-09 10:38:53.266 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:38:53.266 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 1 ms
2025-04-09 10:38:53.266 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:38:53.266 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_MODERATOR"
})
2025-04-09 10:38:53.267 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 10:38:53.268 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 1 ms
2025-04-09 10:38:53.268 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 2,
  "name" : "ROLE_MODERATOR"
}
2025-04-09 10:38:53.268 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_ADMIN")
2025-04-09 10:38:53.269 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:38:53.269 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 0 ms
2025-04-09 10:38:53.269 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:38:53.269 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_ADMIN"
})
2025-04-09 10:38:53.270 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 10:38:53.270 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 0 ms
2025-04-09 10:38:53.270 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 3,
  "name" : "ROLE_ADMIN"
}
2025-04-09 10:38:53.272 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy154.findByEmail] - $Proxy154.findByEmail(email="admin@digitalconcert.com")
2025-04-09 10:38:53.274 [] [$Proxy154.findByEmail] [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password,u1_0.reset_password_token,u1_0.reset_password_token_expiry,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-09 10:38:53.274 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy154.findByEmail] - $Proxy154.findByEmail completed in 2 ms
2025-04-09 10:38:53.275 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy154.findByEmail]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:38:53.275 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_ADMIN")
2025-04-09 10:38:53.276 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:38:53.278 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 2 ms
2025-04-09 10:38:53.278 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : false,
  "present" : true
}
2025-04-09 10:38:53.361 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy154.save] - $Proxy154.save(entity={
  "id" : null,
  "username" : "admin@digitalconcert.com",
  "email" : "admin@digitalconcert.com",
  "password" : "$2a$10$w4gCjhz3uT4Ewc83yIwdCueBcGG4ekYc8zFOWnyrvIAv3pJQjhl6G",
  "firstName" : null,
  "lastName" : null,
  "resetPasswordToken" : null,
  "resetPasswordTokenExpiry" : null,
  "roles" : [ {
    "id" : 3,
    "name" : "ROLE_ADMIN"
  } ],
  "createdAt" : null,
  "updatedAt" : null,
  "orders" : [ ],
  "userTickets" : [ ]
})
2025-04-09 10:38:53.380 [] [$Proxy154.save] [main] DEBUG org.hibernate.SQL - insert into users (created_at,email,first_name,last_name,password,reset_password_token,reset_password_token_expiry,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,default)
2025-04-09 10:38:53.382 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy154.save] - $Proxy154.save completed in 20 ms
2025-04-09 10:38:53.385 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy154.save]: {
  "id" : 1,
  "username" : "admin@digitalconcert.com",
  "email" : "admin@digitalconcert.com",
  "password" : "$2a$10$w4gCjhz3uT4Ewc83yIwdCueBcGG4ekYc8zFOWnyrvIAv3pJQjhl6G",
  "firstName" : null,
  "lastName" : null,
  "resetPasswordToken" : null,
  "resetPasswordTokenExpiry" : null,
  "roles" : [ {
    "id" : 3,
    "name" : "ROLE_ADMIN"
  } ],
  "createdAt" : "2025-04-09T10:38:53.362424",
  "updatedAt" : "2025-04-09T10:38:53.362433",
  "orders" : [ ],
  "userTickets" : [ ]
}
2025-04-09 10:38:53.389 [] [] [main] DEBUG org.hibernate.SQL - insert into user_roles (user_id,role_id) values (?,?)
2025-04-09 10:38:53.391 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.count] - $Proxy155.count()
2025-04-09 10:38:53.395 [] [$Proxy155.count] [main] DEBUG org.hibernate.SQL - select count(*) from roles r1_0
2025-04-09 10:38:53.395 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.count] - $Proxy155.count completed in 4 ms
2025-04-09 10:38:53.396 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.count]: 3
2025-04-09 10:38:53.396 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.count] - $Proxy155.count()
2025-04-09 10:38:53.397 [] [$Proxy155.count] [main] DEBUG org.hibernate.SQL - select count(*) from roles r1_0
2025-04-09 10:38:53.397 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.count] - $Proxy155.count completed in 0 ms
2025-04-09 10:38:53.397 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.count]: 3
2025-04-09 10:38:53.650 [] [] [main] INFO  c.d.logging.TestLoggingService - 
▶▶▶ TEST STARTED ▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶
TEST ID: T20250409-103853--001
NAME: 音樂會創建測試
DESCRIPTION: 測試管理員是否能成功創建音樂會，並驗證創建的音樂會數據是否正確
TAGS: [api, concert, admin]
START TIME: 20250409-103853
▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶
2025-04-09 10:38:53.650 [] [] [main] INFO  c.d.logging.TestLoggingService - 
→ TEST STEP #1 - 管理員登入
DETAILS: 使用管理員帳號登入系統，獲取JWT令牌
2025-04-09 10:38:53.652 [] [] [main] INFO  c.d.logging.TestLoggingService - 
→ TEST STEP #2 - 發送登入請求
DETAILS: 請求URL: http://localhost:55755/api/auth/signin
2025-04-09 10:38:53.693 [] [] [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-09 10:38:53.693 [] [] [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-09 10:38:53.694 [] [] [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-09 10:38:53.697 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signin
2025-04-09 10:38:53.700 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-04-09 10:38:53.700 [] [] [http-nio-auto-1-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/signin' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-04-09 10:38:53.703 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signin
2025-04-09 10:38:53.705 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/auth/signin, headers=[accept:"application/json, application/*+json", user-agent:"Java/17.0.6", host:"localhost:55755", connection:"keep-alive", transfer-encoding:"chunked", Content-Type:"application/json;charset=UTF-8"]]
2025-04-09 10:38:53.705 [bc2c18c5aae54e818543eea76668bf58] [] [http-nio-auto-1-exec-1] INFO  c.d.logging.EnhancedLoggingFilter - 
━━━━━ REQUEST ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ID: bc2c18c5aae54e818543eea76668bf58
URI: /api/auth/signin
METHOD: POST
QUERY: 
CLIENT IP: 127.0.0.1
HEADERS: [accept: application/json, application/*+json, content-type: application/json, user-agent: Java/17.0.6, host: localhost:55755, connection: keep-alive, transfer-encoding: chunked]
BODY: 
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

2025-04-09 10:38:53.711 [bc2c18c5aae54e818543eea76668bf58] [] [http-nio-auto-1-exec-1] ERROR c.d.exception.GlobalExceptionHandler - Global error: No static resource api/auth/signin.
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/signin.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.digitalconcerthall.logging.EnhancedLoggingFilter.doFilterInternal(EnhancedLoggingFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.digitalconcerthall.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.digitalconcerthall.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2025-04-09 10:38:53.721 [bc2c18c5aae54e818543eea76668bf58] [] [http-nio-auto-1-exec-1] ERROR c.d.logging.EnhancedLoggingFilter - 
━━━━━ RESPONSE ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ID: bc2c18c5aae54e818543eea76668bf58
STATUS: 500
DURATION: 12 ms
HEADERS: [Vary: Origin, Vary: Origin, Vary: Origin]
BODY: {
  "success" : false,
  "message" : "ç¼çé¯èª¤: No static resource api/auth/signin."
}
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

2025-04-09 10:38:53.724 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/auth/signin, headers=[accept:"application/json, application/*+json", user-agent:"Java/17.0.6", host:"localhost:55755", connection:"keep-alive", transfer-encoding:"chunked", Content-Type:"application/json;charset=UTF-8"]]
2025-04-09 10:38:53.733 [] [] [main] ERROR c.d.logging.TestLoggingService - 
❌ TEST ERROR: 登入請求失敗 (URL: http://localhost:55755/api/auth/signin): Type definition error: [simple type, class com.digitalconcerthall.dto.response.JwtResponse]
DETAILS: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class com.digitalconcerthall.dto.response.JwtResponse]
org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class com.digitalconcerthall.dto.response.JwtResponse]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:403)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:354)
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:103)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1149)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1132)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:882)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:781)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:529)
	at org.springframework.boot.test.web.client.TestRestTemplate.postForEntity(TestRestTemplate.java:454)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.loginAsAdmin(ConcertCreationIntegrationTest.java:195)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.setUp(ConcertCreationIntegrationTest.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:521)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:506)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:175)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:172)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.digitalconcerthall.dto.response.JwtResponse` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)
 at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 2]
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)
	at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1915)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1360)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1424)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:352)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2105)
	at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1481)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:395)
	... 84 common frames omitted
2025-04-09 10:38:53.735 [] [] [main] ERROR c.d.logging.TestLoggingService - 
❌ TEST ERROR: 管理員登入過程發生錯誤: 登入請求失敗 (URL: http://localhost:55755/api/auth/signin): Type definition error: [simple type, class com.digitalconcerthall.dto.response.JwtResponse]
DETAILS: java.lang.RuntimeException: 登入請求失敗 (URL: http://localhost:55755/api/auth/signin): Type definition error: [simple type, class com.digitalconcerthall.dto.response.JwtResponse]
java.lang.RuntimeException: 登入請求失敗 (URL: http://localhost:55755/api/auth/signin): Type definition error: [simple type, class com.digitalconcerthall.dto.response.JwtResponse]
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.loginAsAdmin(ConcertCreationIntegrationTest.java:214)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.setUp(ConcertCreationIntegrationTest.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:521)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:506)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:175)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:172)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
2025-04-09 10:38:53.809 [] [] [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-09 10:38:53.810 [] [] [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-09 10:38:53.811 [] [] [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-09 10:38:59.177 [] [] [main] INFO  c.d.t.ConcertCreationIntegrationTest - Starting ConcertCreationIntegrationTest using Java 17.0.6 with PID 52295 (started by alanp in /Users/alanp/digital-concert-hall/backend)
2025-04-09 10:38:59.178 [] [] [main] DEBUG c.d.t.ConcertCreationIntegrationTest - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-04-09 10:38:59.178 [] [] [main] INFO  c.d.t.ConcertCreationIntegrationTest - The following 2 profiles are active: "test", "logging"
2025-04-09 10:38:59.459 [] [] [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-09 10:38:59.495 [] [] [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 8 JPA repository interfaces.
2025-04-09 10:38:59.873 [] [] [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 0 (http)
2025-04-09 10:38:59.878 [] [] [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-09 10:38:59.878 [] [] [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-04-09 10:38:59.904 [] [] [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-09 10:38:59.904 [] [] [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 719 ms
2025-04-09 10:38:59.931 [] [] [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-09 10:38:59.999 [] [] [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-04-09 10:39:00.000 [] [] [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-09 10:39:00.005 [] [] [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-04-09 10:39:00.079 [] [] [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-09 10:39:00.098 [] [] [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-04-09 10:39:00.112 [] [] [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-09 10:39:00.193 [] [] [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-09 10:39:00.214 [] [] [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-09 10:39:00.658 [] [] [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-09 10:39:00.678 [] [] [main] DEBUG org.hibernate.SQL - create table concerts (id bigint generated by default as identity, brochure_url varchar(255), created_at timestamp(6) not null, description TEXT, end_date_time timestamp(6) not null, poster_url varchar(255), program_details TEXT, start_date_time timestamp(6) not null, status varchar(20) not null, title varchar(200) not null, updated_at timestamp(6) not null, primary key (id))
2025-04-09 10:39:00.682 [] [] [main] DEBUG org.hibernate.SQL - create table order_items (id bigint generated by default as identity, quantity integer not null, subtotal numeric(10,2) not null, unit_price numeric(10,2) not null, order_id bigint not null, ticket_id bigint not null, primary key (id))
2025-04-09 10:39:00.683 [] [] [main] DEBUG org.hibernate.SQL - create table orders (id bigint generated by default as identity, order_date timestamp(6) not null, order_number varchar(255) not null, payment_method varchar(50), payment_status varchar(20) not null, status varchar(20) not null, total_amount numeric(10,2) not null, user_id bigint not null, primary key (id))
2025-04-09 10:39:00.684 [] [] [main] DEBUG org.hibernate.SQL - create table performances (id bigint generated by default as identity, end_time timestamp(6) not null, livestream_url varchar(255), recording_url varchar(255), start_time timestamp(6) not null, status varchar(20) not null, venue varchar(100) not null, concert_id bigint not null, primary key (id))
2025-04-09 10:39:00.685 [] [] [main] DEBUG org.hibernate.SQL - create table roles (id integer generated by default as identity, name varchar(20) check (name in ('ROLE_USER','ROLE_MODERATOR','ROLE_ADMIN')), primary key (id))
2025-04-09 10:39:00.686 [] [] [main] DEBUG org.hibernate.SQL - create table ticket_types (id bigint generated by default as identity, color_code varchar(20), created_at timestamp(6) not null, description varchar(255), name varchar(50) not null, price numeric(10,2) not null, primary key (id))
2025-04-09 10:39:00.687 [] [] [main] DEBUG org.hibernate.SQL - create table tickets (id bigint generated by default as identity, available_quantity integer not null, created_at timestamp(6) not null, description varchar(255), price numeric(10,2), status varchar(255), total_quantity integer not null, performance_id bigint not null, ticket_type_id bigint not null, primary key (id))
2025-04-09 10:39:00.687 [] [] [main] DEBUG org.hibernate.SQL - create table user_roles (user_id bigint not null, role_id integer not null, primary key (user_id, role_id))
2025-04-09 10:39:00.688 [] [] [main] DEBUG org.hibernate.SQL - create table user_tickets (id bigint generated by default as identity, created_at timestamp(6) not null, is_used boolean not null, ticket_code varchar(255) not null, updated_at timestamp(6) not null, order_item_id bigint not null, user_id bigint not null, primary key (id))
2025-04-09 10:39:00.689 [] [] [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, created_at timestamp(6), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), reset_password_token varchar(255), reset_password_token_expiry timestamp(6), updated_at timestamp(6), username varchar(255), primary key (id))
2025-04-09 10:39:00.690 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders drop constraint if exists UK_nthkiu7pgmnqnu86i2jyoe2v7
2025-04-09 10:39:00.690 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders add constraint UK_nthkiu7pgmnqnu86i2jyoe2v7 unique (order_number)
2025-04-09 10:39:00.691 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets drop constraint if exists UK_5kxnsqfwpop53fu9y4dm2ivxr
2025-04-09 10:39:00.691 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint UK_5kxnsqfwpop53fu9y4dm2ivxr unique (ticket_code)
2025-04-09 10:39:00.692 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2025-04-09 10:39:00.692 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2025-04-09 10:39:00.692 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7
2025-04-09 10:39:00.692 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-04-09 10:39:00.693 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists order_items add constraint FKbioxgbv59vetrxe0ejfubep1w foreign key (order_id) references orders
2025-04-09 10:39:00.696 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists order_items add constraint FKt2ynanr8tfohjdpkrjiajbmc foreign key (ticket_id) references tickets
2025-04-09 10:39:00.697 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users
2025-04-09 10:39:00.698 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists performances add constraint FKqgw8m05tetv1vx8xiioikot8q foreign key (concert_id) references concerts
2025-04-09 10:39:00.699 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists tickets add constraint FKs04a7r9lnv2g10dffp31ox6vi foreign key (performance_id) references performances
2025-04-09 10:39:00.699 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists tickets add constraint FKotik7mbbb14hu8n9og7o92k5h foreign key (ticket_type_id) references ticket_types
2025-04-09 10:39:00.700 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 foreign key (role_id) references roles
2025-04-09 10:39:00.701 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users
2025-04-09 10:39:00.701 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint FKlc2lk84hg4px6vmbtstwp0xre foreign key (order_item_id) references order_items
2025-04-09 10:39:00.702 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint FK9ok1dlkt49it7wyeh529wy315 foreign key (user_id) references users
2025-04-09 10:39:00.704 [] [] [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-09 10:39:00.949 [] [] [main] DEBUG c.d.security.jwt.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2025-04-09 10:39:00.949 [] [] [main] DEBUG c.d.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-04-09 10:39:00.950 [] [] [main] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-09 10:39:00.950 [] [] [main] DEBUG c.d.logging.EnhancedLoggingFilter - Filter 'enhancedLoggingFilter' configured for use
2025-04-09 10:39:01.089 [] [] [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-09 10:39:01.371 [] [] [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-09 10:39:01.527 [] [] [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3a24306e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b127d96, org.springframework.security.web.context.SecurityContextHolderFilter@6b4d0be2, org.springframework.security.web.header.HeaderWriterFilter@57fd93f9, org.springframework.web.filter.CorsFilter@5a4929f5, org.springframework.security.web.authentication.logout.LogoutFilter@a1cac17, com.digitalconcerthall.security.jwt.AuthTokenFilter@7b897456, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e324000, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b51fc45, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4146577c, org.springframework.security.web.session.SessionManagementFilter@7c057419, org.springframework.security.web.access.ExceptionTranslationFilter@52f2d8e8, org.springframework.security.web.access.intercept.AuthorizationFilter@2c73a332]
2025-04-09 10:39:01.693 [] [] [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 55769 (http) with context path ''
2025-04-09 10:39:01.708 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_USER")
2025-04-09 10:39:01.750 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:39:01.754 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 45 ms
2025-04-09 10:39:01.761 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:39:01.763 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_USER"
})
2025-04-09 10:39:01.782 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 10:39:01.789 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 26 ms
2025-04-09 10:39:01.790 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 1,
  "name" : "ROLE_USER"
}
2025-04-09 10:39:01.790 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_MODERATOR")
2025-04-09 10:39:01.791 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:39:01.792 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 1 ms
2025-04-09 10:39:01.792 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:39:01.793 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_MODERATOR"
})
2025-04-09 10:39:01.794 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 10:39:01.795 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 1 ms
2025-04-09 10:39:01.795 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 2,
  "name" : "ROLE_MODERATOR"
}
2025-04-09 10:39:01.795 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_ADMIN")
2025-04-09 10:39:01.797 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:39:01.797 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 1 ms
2025-04-09 10:39:01.797 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:39:01.797 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_ADMIN"
})
2025-04-09 10:39:01.798 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 10:39:01.799 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 1 ms
2025-04-09 10:39:01.799 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 3,
  "name" : "ROLE_ADMIN"
}
2025-04-09 10:39:01.801 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy154.findByEmail] - $Proxy154.findByEmail(email="admin@digitalconcert.com")
2025-04-09 10:39:01.803 [] [$Proxy154.findByEmail] [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password,u1_0.reset_password_token,u1_0.reset_password_token_expiry,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-09 10:39:01.803 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy154.findByEmail] - $Proxy154.findByEmail completed in 2 ms
2025-04-09 10:39:01.804 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy154.findByEmail]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:39:01.804 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_ADMIN")
2025-04-09 10:39:01.805 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:39:01.807 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 2 ms
2025-04-09 10:39:01.807 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : false,
  "present" : true
}
2025-04-09 10:39:01.896 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy154.save] - $Proxy154.save(entity={
  "id" : null,
  "username" : "admin@digitalconcert.com",
  "email" : "admin@digitalconcert.com",
  "password" : "$2a$10$coghtvdbN04rf.hbfEnILujIwSHL/FlXWaYgcAut6Qfy5q0Wj1TM.",
  "firstName" : null,
  "lastName" : null,
  "resetPasswordToken" : null,
  "resetPasswordTokenExpiry" : null,
  "roles" : [ {
    "id" : 3,
    "name" : "ROLE_ADMIN"
  } ],
  "createdAt" : null,
  "updatedAt" : null,
  "orders" : [ ],
  "userTickets" : [ ]
})
2025-04-09 10:39:01.916 [] [$Proxy154.save] [main] DEBUG org.hibernate.SQL - insert into users (created_at,email,first_name,last_name,password,reset_password_token,reset_password_token_expiry,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,default)
2025-04-09 10:39:01.918 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy154.save] - $Proxy154.save completed in 22 ms
2025-04-09 10:39:01.922 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy154.save]: {
  "id" : 1,
  "username" : "admin@digitalconcert.com",
  "email" : "admin@digitalconcert.com",
  "password" : "$2a$10$coghtvdbN04rf.hbfEnILujIwSHL/FlXWaYgcAut6Qfy5q0Wj1TM.",
  "firstName" : null,
  "lastName" : null,
  "resetPasswordToken" : null,
  "resetPasswordTokenExpiry" : null,
  "roles" : [ {
    "id" : 3,
    "name" : "ROLE_ADMIN"
  } ],
  "createdAt" : "2025-04-09T10:39:01.89659",
  "updatedAt" : "2025-04-09T10:39:01.896593",
  "orders" : [ ],
  "userTickets" : [ ]
}
2025-04-09 10:39:01.927 [] [] [main] DEBUG org.hibernate.SQL - insert into user_roles (user_id,role_id) values (?,?)
2025-04-09 10:39:01.929 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.count] - $Proxy155.count()
2025-04-09 10:39:01.933 [] [$Proxy155.count] [main] DEBUG org.hibernate.SQL - select count(*) from roles r1_0
2025-04-09 10:39:01.934 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.count] - $Proxy155.count completed in 5 ms
2025-04-09 10:39:01.934 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.count]: 3
2025-04-09 10:39:01.935 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.count] - $Proxy155.count()
2025-04-09 10:39:01.935 [] [$Proxy155.count] [main] DEBUG org.hibernate.SQL - select count(*) from roles r1_0
2025-04-09 10:39:01.936 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.count] - $Proxy155.count completed in 0 ms
2025-04-09 10:39:01.936 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.count]: 3
2025-04-09 10:39:02.192 [] [] [main] INFO  c.d.logging.TestLoggingService - 
▶▶▶ TEST STARTED ▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶
TEST ID: T20250409-103902--001
NAME: 音樂會創建測試
DESCRIPTION: 測試管理員是否能成功創建音樂會，並驗證創建的音樂會數據是否正確
TAGS: [api, concert, admin]
START TIME: 20250409-103902
▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶
2025-04-09 10:39:02.192 [] [] [main] INFO  c.d.logging.TestLoggingService - 
→ TEST STEP #1 - 管理員登入
DETAILS: 使用管理員帳號登入系統，獲取JWT令牌
2025-04-09 10:39:02.195 [] [] [main] INFO  c.d.logging.TestLoggingService - 
→ TEST STEP #2 - 發送登入請求
DETAILS: 請求URL: http://localhost:55769/api/auth/signin
2025-04-09 10:39:02.238 [] [] [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-09 10:39:02.238 [] [] [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-09 10:39:02.239 [] [] [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-09 10:39:02.248 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signin
2025-04-09 10:39:02.252 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-04-09 10:39:02.252 [] [] [http-nio-auto-1-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/signin' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-04-09 10:39:02.256 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signin
2025-04-09 10:39:02.258 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/auth/signin, headers=[accept:"application/json, application/*+json", user-agent:"Java/17.0.6", host:"localhost:55769", connection:"keep-alive", transfer-encoding:"chunked", Content-Type:"application/json;charset=UTF-8"]]
2025-04-09 10:39:02.258 [0c4a2d3ef9364551bafb9f4b4fe9a841] [] [http-nio-auto-1-exec-1] INFO  c.d.logging.EnhancedLoggingFilter - 
━━━━━ REQUEST ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ID: 0c4a2d3ef9364551bafb9f4b4fe9a841
URI: /api/auth/signin
METHOD: POST
QUERY: 
CLIENT IP: 127.0.0.1
HEADERS: [accept: application/json, application/*+json, content-type: application/json, user-agent: Java/17.0.6, host: localhost:55769, connection: keep-alive, transfer-encoding: chunked]
BODY: 
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

2025-04-09 10:39:02.266 [0c4a2d3ef9364551bafb9f4b4fe9a841] [] [http-nio-auto-1-exec-1] ERROR c.d.exception.GlobalExceptionHandler - Global error: No static resource api/auth/signin.
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/signin.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.digitalconcerthall.logging.EnhancedLoggingFilter.doFilterInternal(EnhancedLoggingFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.digitalconcerthall.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.digitalconcerthall.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2025-04-09 10:39:02.282 [0c4a2d3ef9364551bafb9f4b4fe9a841] [] [http-nio-auto-1-exec-1] ERROR c.d.logging.EnhancedLoggingFilter - 
━━━━━ RESPONSE ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ID: 0c4a2d3ef9364551bafb9f4b4fe9a841
STATUS: 500
DURATION: 16 ms
HEADERS: [Vary: Origin, Vary: Origin, Vary: Origin]
BODY: {
  "success" : false,
  "message" : "ç¼çé¯èª¤: No static resource api/auth/signin."
}
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

2025-04-09 10:39:02.284 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/auth/signin, headers=[accept:"application/json, application/*+json", user-agent:"Java/17.0.6", host:"localhost:55769", connection:"keep-alive", transfer-encoding:"chunked", Content-Type:"application/json;charset=UTF-8"]]
2025-04-09 10:39:02.289 [] [] [main] ERROR c.d.logging.TestLoggingService - 
❌ TEST ERROR: 登入請求失敗 (URL: http://localhost:55769/api/auth/signin): Type definition error: [simple type, class com.digitalconcerthall.dto.response.JwtResponse]
DETAILS: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class com.digitalconcerthall.dto.response.JwtResponse]
org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class com.digitalconcerthall.dto.response.JwtResponse]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:403)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:354)
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:103)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1149)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1132)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:882)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:781)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:529)
	at org.springframework.boot.test.web.client.TestRestTemplate.postForEntity(TestRestTemplate.java:454)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.loginAsAdmin(ConcertCreationIntegrationTest.java:195)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.setUp(ConcertCreationIntegrationTest.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:521)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:506)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:175)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:172)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.digitalconcerthall.dto.response.JwtResponse` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)
 at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 2]
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)
	at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1915)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1360)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1424)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:352)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2105)
	at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1481)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:395)
	... 84 common frames omitted
2025-04-09 10:39:02.290 [] [] [main] ERROR c.d.logging.TestLoggingService - 
❌ TEST ERROR: 管理員登入過程發生錯誤: 登入請求失敗 (URL: http://localhost:55769/api/auth/signin): Type definition error: [simple type, class com.digitalconcerthall.dto.response.JwtResponse]
DETAILS: java.lang.RuntimeException: 登入請求失敗 (URL: http://localhost:55769/api/auth/signin): Type definition error: [simple type, class com.digitalconcerthall.dto.response.JwtResponse]
java.lang.RuntimeException: 登入請求失敗 (URL: http://localhost:55769/api/auth/signin): Type definition error: [simple type, class com.digitalconcerthall.dto.response.JwtResponse]
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.loginAsAdmin(ConcertCreationIntegrationTest.java:214)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.setUp(ConcertCreationIntegrationTest.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:521)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:506)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:175)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:172)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
2025-04-09 10:39:02.319 [] [] [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-09 10:39:02.321 [] [] [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-09 10:39:02.323 [] [] [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-09 10:50:01.289 [] [] [main] INFO  c.d.t.ConcertCreationIntegrationTest - Starting ConcertCreationIntegrationTest using Java 17.0.6 with PID 54550 (started by alanp in /Users/alanp/digital-concert-hall/backend)
2025-04-09 10:50:01.292 [] [] [main] DEBUG c.d.t.ConcertCreationIntegrationTest - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-04-09 10:50:01.293 [] [] [main] INFO  c.d.t.ConcertCreationIntegrationTest - The following 2 profiles are active: "test", "logging"
2025-04-09 10:50:01.602 [] [] [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-09 10:50:01.638 [] [] [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 8 JPA repository interfaces.
2025-04-09 10:50:02.036 [] [] [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 0 (http)
2025-04-09 10:50:02.040 [] [] [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-09 10:50:02.041 [] [] [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-04-09 10:50:02.072 [] [] [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-09 10:50:02.073 [] [] [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 771 ms
2025-04-09 10:50:02.101 [] [] [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-09 10:50:02.181 [] [] [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-04-09 10:50:02.182 [] [] [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-09 10:50:02.188 [] [] [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-04-09 10:50:02.276 [] [] [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-09 10:50:02.296 [] [] [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-04-09 10:50:02.310 [] [] [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-09 10:50:02.409 [] [] [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-09 10:50:02.426 [] [] [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-09 10:50:02.853 [] [] [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-09 10:50:02.869 [] [] [main] DEBUG org.hibernate.SQL - create table concerts (id bigint generated by default as identity, brochure_url varchar(255), created_at timestamp(6) not null, description TEXT, end_date_time timestamp(6) not null, poster_url varchar(255), program_details TEXT, start_date_time timestamp(6) not null, status varchar(20) not null, title varchar(200) not null, updated_at timestamp(6) not null, primary key (id))
2025-04-09 10:50:02.872 [] [] [main] DEBUG org.hibernate.SQL - create table order_items (id bigint generated by default as identity, quantity integer not null, subtotal numeric(10,2) not null, unit_price numeric(10,2) not null, order_id bigint not null, ticket_id bigint not null, primary key (id))
2025-04-09 10:50:02.873 [] [] [main] DEBUG org.hibernate.SQL - create table orders (id bigint generated by default as identity, order_date timestamp(6) not null, order_number varchar(255) not null, payment_method varchar(50), payment_status varchar(20) not null, status varchar(20) not null, total_amount numeric(10,2) not null, user_id bigint not null, primary key (id))
2025-04-09 10:50:02.874 [] [] [main] DEBUG org.hibernate.SQL - create table performances (id bigint generated by default as identity, end_time timestamp(6) not null, livestream_url varchar(255), recording_url varchar(255), start_time timestamp(6) not null, status varchar(20) not null, venue varchar(100) not null, concert_id bigint not null, primary key (id))
2025-04-09 10:50:02.875 [] [] [main] DEBUG org.hibernate.SQL - create table roles (id integer generated by default as identity, name varchar(20) check (name in ('ROLE_USER','ROLE_MODERATOR','ROLE_ADMIN')), primary key (id))
2025-04-09 10:50:02.876 [] [] [main] DEBUG org.hibernate.SQL - create table ticket_types (id bigint generated by default as identity, color_code varchar(20), created_at timestamp(6) not null, description varchar(255), name varchar(50) not null, price numeric(10,2) not null, primary key (id))
2025-04-09 10:50:02.877 [] [] [main] DEBUG org.hibernate.SQL - create table tickets (id bigint generated by default as identity, available_quantity integer not null, created_at timestamp(6) not null, description varchar(255), price numeric(10,2), status varchar(255), total_quantity integer not null, performance_id bigint not null, ticket_type_id bigint not null, primary key (id))
2025-04-09 10:50:02.877 [] [] [main] DEBUG org.hibernate.SQL - create table user_roles (user_id bigint not null, role_id integer not null, primary key (user_id, role_id))
2025-04-09 10:50:02.878 [] [] [main] DEBUG org.hibernate.SQL - create table user_tickets (id bigint generated by default as identity, created_at timestamp(6) not null, is_used boolean not null, ticket_code varchar(255) not null, updated_at timestamp(6) not null, order_item_id bigint not null, user_id bigint not null, primary key (id))
2025-04-09 10:50:02.879 [] [] [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, created_at timestamp(6), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), reset_password_token varchar(255), reset_password_token_expiry timestamp(6), updated_at timestamp(6), username varchar(255), primary key (id))
2025-04-09 10:50:02.879 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders drop constraint if exists UK_nthkiu7pgmnqnu86i2jyoe2v7
2025-04-09 10:50:02.880 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders add constraint UK_nthkiu7pgmnqnu86i2jyoe2v7 unique (order_number)
2025-04-09 10:50:02.880 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets drop constraint if exists UK_5kxnsqfwpop53fu9y4dm2ivxr
2025-04-09 10:50:02.880 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint UK_5kxnsqfwpop53fu9y4dm2ivxr unique (ticket_code)
2025-04-09 10:50:02.881 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2025-04-09 10:50:02.881 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2025-04-09 10:50:02.881 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7
2025-04-09 10:50:02.881 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-04-09 10:50:02.882 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists order_items add constraint FKbioxgbv59vetrxe0ejfubep1w foreign key (order_id) references orders
2025-04-09 10:50:02.885 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists order_items add constraint FKt2ynanr8tfohjdpkrjiajbmc foreign key (ticket_id) references tickets
2025-04-09 10:50:02.885 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users
2025-04-09 10:50:02.886 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists performances add constraint FKqgw8m05tetv1vx8xiioikot8q foreign key (concert_id) references concerts
2025-04-09 10:50:02.887 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists tickets add constraint FKs04a7r9lnv2g10dffp31ox6vi foreign key (performance_id) references performances
2025-04-09 10:50:02.888 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists tickets add constraint FKotik7mbbb14hu8n9og7o92k5h foreign key (ticket_type_id) references ticket_types
2025-04-09 10:50:02.889 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 foreign key (role_id) references roles
2025-04-09 10:50:02.889 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users
2025-04-09 10:50:02.890 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint FKlc2lk84hg4px6vmbtstwp0xre foreign key (order_item_id) references order_items
2025-04-09 10:50:02.891 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint FK9ok1dlkt49it7wyeh529wy315 foreign key (user_id) references users
2025-04-09 10:50:02.892 [] [] [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-09 10:50:03.163 [] [] [main] DEBUG c.d.security.jwt.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2025-04-09 10:50:03.163 [] [] [main] DEBUG c.d.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-04-09 10:50:03.163 [] [] [main] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-09 10:50:03.163 [] [] [main] DEBUG c.d.logging.EnhancedLoggingFilter - Filter 'enhancedLoggingFilter' configured for use
2025-04-09 10:50:03.294 [] [] [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-09 10:50:03.611 [] [] [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-09 10:50:03.786 [] [] [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4cc1f8d3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2a9eb44d, org.springframework.security.web.context.SecurityContextHolderFilter@4655e059, org.springframework.security.web.header.HeaderWriterFilter@3a8dd899, org.springframework.web.filter.CorsFilter@46135aba, org.springframework.security.web.authentication.logout.LogoutFilter@7b128cd2, com.digitalconcerthall.security.jwt.AuthTokenFilter@6fa5fc67, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52f2d8e8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e43fb40, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25a218a, org.springframework.security.web.session.SessionManagementFilter@6fc1d215, org.springframework.security.web.access.ExceptionTranslationFilter@2eaaef66, org.springframework.security.web.access.intercept.AuthorizationFilter@4f347aae]
2025-04-09 10:50:03.941 [] [] [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 55949 (http) with context path ''
2025-04-09 10:50:03.957 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_USER")
2025-04-09 10:50:04.010 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:50:04.015 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 56 ms
2025-04-09 10:50:04.022 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:50:04.025 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_USER"
})
2025-04-09 10:50:04.046 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 10:50:04.052 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 27 ms
2025-04-09 10:50:04.053 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 1,
  "name" : "ROLE_USER"
}
2025-04-09 10:50:04.054 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_MODERATOR")
2025-04-09 10:50:04.055 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:50:04.055 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 1 ms
2025-04-09 10:50:04.055 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:50:04.055 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_MODERATOR"
})
2025-04-09 10:50:04.056 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 10:50:04.057 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 1 ms
2025-04-09 10:50:04.058 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 2,
  "name" : "ROLE_MODERATOR"
}
2025-04-09 10:50:04.058 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_ADMIN")
2025-04-09 10:50:04.059 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:50:04.059 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 1 ms
2025-04-09 10:50:04.060 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:50:04.060 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_ADMIN"
})
2025-04-09 10:50:04.061 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 10:50:04.062 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 1 ms
2025-04-09 10:50:04.062 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 3,
  "name" : "ROLE_ADMIN"
}
2025-04-09 10:50:04.064 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy154.findByEmail] - $Proxy154.findByEmail(email="admin@digitalconcert.com")
2025-04-09 10:50:04.068 [] [$Proxy154.findByEmail] [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password,u1_0.reset_password_token,u1_0.reset_password_token_expiry,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-09 10:50:04.069 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy154.findByEmail] - $Proxy154.findByEmail completed in 4 ms
2025-04-09 10:50:04.069 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy154.findByEmail]: {
  "empty" : true,
  "present" : false
}
2025-04-09 10:50:04.070 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_ADMIN")
2025-04-09 10:50:04.071 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 10:50:04.075 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 4 ms
2025-04-09 10:50:04.075 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : false,
  "present" : true
}
2025-04-09 10:50:04.161 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy154.save] - $Proxy154.save(entity={
  "id" : null,
  "username" : "admin@digitalconcert.com",
  "email" : "admin@digitalconcert.com",
  "password" : "$2a$10$nJ8kunfpOS9GBZAiXnPS0.mhtHVVveLcTvPegekzgKaK4hmmqMfSe",
  "firstName" : null,
  "lastName" : null,
  "resetPasswordToken" : null,
  "resetPasswordTokenExpiry" : null,
  "roles" : [ {
    "id" : 3,
    "name" : "ROLE_ADMIN"
  } ],
  "createdAt" : null,
  "updatedAt" : null,
  "orders" : [ ],
  "userTickets" : [ ]
})
2025-04-09 10:50:04.183 [] [$Proxy154.save] [main] DEBUG org.hibernate.SQL - insert into users (created_at,email,first_name,last_name,password,reset_password_token,reset_password_token_expiry,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,default)
2025-04-09 10:50:04.185 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy154.save] - $Proxy154.save completed in 23 ms
2025-04-09 10:50:04.190 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy154.save]: {
  "id" : 1,
  "username" : "admin@digitalconcert.com",
  "email" : "admin@digitalconcert.com",
  "password" : "$2a$10$nJ8kunfpOS9GBZAiXnPS0.mhtHVVveLcTvPegekzgKaK4hmmqMfSe",
  "firstName" : null,
  "lastName" : null,
  "resetPasswordToken" : null,
  "resetPasswordTokenExpiry" : null,
  "roles" : [ {
    "id" : 3,
    "name" : "ROLE_ADMIN"
  } ],
  "createdAt" : "2025-04-09T10:50:04.162283",
  "updatedAt" : "2025-04-09T10:50:04.162287",
  "orders" : [ ],
  "userTickets" : [ ]
}
2025-04-09 10:50:04.196 [] [] [main] DEBUG org.hibernate.SQL - insert into user_roles (user_id,role_id) values (?,?)
2025-04-09 10:50:04.197 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.count] - $Proxy155.count()
2025-04-09 10:50:04.203 [] [$Proxy155.count] [main] DEBUG org.hibernate.SQL - select count(*) from roles r1_0
2025-04-09 10:50:04.204 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.count] - $Proxy155.count completed in 6 ms
2025-04-09 10:50:04.204 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.count]: 3
2025-04-09 10:50:04.205 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.count] - $Proxy155.count()
2025-04-09 10:50:04.206 [] [$Proxy155.count] [main] DEBUG org.hibernate.SQL - select count(*) from roles r1_0
2025-04-09 10:50:04.206 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.count] - $Proxy155.count completed in 0 ms
2025-04-09 10:50:04.207 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.count]: 3
2025-04-09 10:50:04.490 [] [] [main] INFO  c.d.logging.TestLoggingService - 
▶▶▶ TEST STARTED ▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶
TEST ID: T20250409-105004--001
NAME: 音樂會創建測試
DESCRIPTION: 測試管理員是否能成功創建音樂會，並驗證創建的音樂會數據是否正確
TAGS: [api, concert, admin]
START TIME: 20250409-105004
▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶
2025-04-09 10:50:04.490 [] [] [main] INFO  c.d.logging.TestLoggingService - 
→ TEST STEP #1 - 管理員登入
DETAILS: 使用管理員帳號登入系統，獲取JWT令牌
2025-04-09 10:50:04.493 [] [] [main] INFO  c.d.logging.TestLoggingService - 
→ TEST STEP #2 - 發送登入請求
DETAILS: 請求URL: http://localhost:55949/api/auth/signin
2025-04-09 10:50:04.539 [] [] [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-09 10:50:04.539 [] [] [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-09 10:50:04.540 [] [] [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-09 10:50:04.546 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signin
2025-04-09 10:50:04.552 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-04-09 10:50:04.552 [] [] [http-nio-auto-1-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/signin' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-04-09 10:50:04.556 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signin
2025-04-09 10:50:04.558 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/auth/signin, headers=[accept:"application/json, application/*+json", user-agent:"Java/17.0.6", host:"localhost:55949", connection:"keep-alive", transfer-encoding:"chunked", Content-Type:"application/json;charset=UTF-8"]]
2025-04-09 10:50:04.558 [817cc16697134717bb2bc6c52d22266a] [] [http-nio-auto-1-exec-1] INFO  c.d.logging.EnhancedLoggingFilter - 
━━━━━ REQUEST ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ID: 817cc16697134717bb2bc6c52d22266a
URI: /api/auth/signin
METHOD: POST
QUERY: 
CLIENT IP: 127.0.0.1
HEADERS: [accept: application/json, application/*+json, content-type: application/json, user-agent: Java/17.0.6, host: localhost:55949, connection: keep-alive, transfer-encoding: chunked]
BODY: 
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

2025-04-09 10:50:04.565 [817cc16697134717bb2bc6c52d22266a] [] [http-nio-auto-1-exec-1] ERROR c.d.exception.GlobalExceptionHandler - Global error: No static resource api/auth/signin.
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/signin.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.digitalconcerthall.logging.EnhancedLoggingFilter.doFilterInternal(EnhancedLoggingFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.digitalconcerthall.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.digitalconcerthall.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2025-04-09 10:50:04.574 [817cc16697134717bb2bc6c52d22266a] [] [http-nio-auto-1-exec-1] ERROR c.d.logging.EnhancedLoggingFilter - 
━━━━━ RESPONSE ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ID: 817cc16697134717bb2bc6c52d22266a
STATUS: 500
DURATION: 12 ms
HEADERS: [Vary: Origin, Vary: Origin, Vary: Origin]
BODY: {
  "success" : false,
  "message" : "ç¼çé¯èª¤: No static resource api/auth/signin."
}
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

2025-04-09 10:50:04.576 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/auth/signin, headers=[accept:"application/json, application/*+json", user-agent:"Java/17.0.6", host:"localhost:55949", connection:"keep-alive", transfer-encoding:"chunked", Content-Type:"application/json;charset=UTF-8"]]
2025-04-09 10:50:04.582 [] [] [main] ERROR c.d.logging.TestLoggingService - 
❌ TEST ERROR: 登入請求失敗 (URL: http://localhost:55949/api/auth/signin): 登入失敗，狀態碼：500 INTERNAL_SERVER_ERROR
DETAILS: java.lang.RuntimeException: 登入失敗，狀態碼：500 INTERNAL_SERVER_ERROR
java.lang.RuntimeException: 登入失敗，狀態碼：500 INTERNAL_SERVER_ERROR
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.loginAsAdmin(ConcertCreationIntegrationTest.java:209)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.setUp(ConcertCreationIntegrationTest.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:521)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:506)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:175)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:172)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
2025-04-09 10:50:04.583 [] [] [main] ERROR c.d.logging.TestLoggingService - 
❌ TEST ERROR: 管理員登入過程發生錯誤: 登入請求失敗 (URL: http://localhost:55949/api/auth/signin): 登入失敗，狀態碼：500 INTERNAL_SERVER_ERROR
DETAILS: java.lang.RuntimeException: 登入請求失敗 (URL: http://localhost:55949/api/auth/signin): 登入失敗，狀態碼：500 INTERNAL_SERVER_ERROR
java.lang.RuntimeException: 登入請求失敗 (URL: http://localhost:55949/api/auth/signin): 登入失敗，狀態碼：500 INTERNAL_SERVER_ERROR
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.loginAsAdmin(ConcertCreationIntegrationTest.java:214)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.setUp(ConcertCreationIntegrationTest.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:521)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:506)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:175)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:172)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
2025-04-09 10:50:04.627 [] [] [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-09 10:50:04.630 [] [] [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-09 10:50:04.636 [] [] [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-09 18:00:29.626 [] [] [main] INFO  c.d.t.ConcertCreationIntegrationTest - Starting ConcertCreationIntegrationTest using Java 17.0.6 with PID 24499 (started by alanp in /Users/alanp/digital-concert-hall/backend)
2025-04-09 18:00:29.627 [] [] [main] DEBUG c.d.t.ConcertCreationIntegrationTest - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-04-09 18:00:29.627 [] [] [main] INFO  c.d.t.ConcertCreationIntegrationTest - The following 2 profiles are active: "test", "logging"
2025-04-09 18:00:29.893 [] [] [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-09 18:00:29.922 [] [] [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 8 JPA repository interfaces.
2025-04-09 18:00:30.272 [] [] [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 0 (http)
2025-04-09 18:00:30.276 [] [] [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-09 18:00:30.276 [] [] [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-04-09 18:00:30.300 [] [] [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-09 18:00:30.300 [] [] [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 666 ms
2025-04-09 18:00:30.323 [] [] [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-09 18:00:30.392 [] [] [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-04-09 18:00:30.393 [] [] [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-09 18:00:30.398 [] [] [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-04-09 18:00:30.467 [] [] [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-09 18:00:30.484 [] [] [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-04-09 18:00:30.495 [] [] [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-09 18:00:30.577 [] [] [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-09 18:00:30.591 [] [] [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-09 18:00:30.990 [] [] [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-09 18:00:31.009 [] [] [main] DEBUG org.hibernate.SQL - create table concerts (id bigint generated by default as identity, brochure_url varchar(255), created_at timestamp(6) not null, description TEXT, end_date_time timestamp(6) not null, poster_url varchar(255), program_details TEXT, start_date_time timestamp(6) not null, status varchar(20) not null, title varchar(200) not null, updated_at timestamp(6) not null, primary key (id))
2025-04-09 18:00:31.012 [] [] [main] DEBUG org.hibernate.SQL - create table order_items (id bigint generated by default as identity, quantity integer not null, subtotal numeric(10,2) not null, unit_price numeric(10,2) not null, order_id bigint not null, ticket_id bigint not null, primary key (id))
2025-04-09 18:00:31.013 [] [] [main] DEBUG org.hibernate.SQL - create table orders (id bigint generated by default as identity, order_date timestamp(6) not null, order_number varchar(255) not null, payment_method varchar(50), payment_status varchar(20) not null, status varchar(20) not null, total_amount numeric(10,2) not null, user_id bigint not null, primary key (id))
2025-04-09 18:00:31.014 [] [] [main] DEBUG org.hibernate.SQL - create table performances (id bigint generated by default as identity, end_time timestamp(6) not null, livestream_url varchar(255), recording_url varchar(255), start_time timestamp(6) not null, status varchar(20) not null, venue varchar(100) not null, concert_id bigint not null, primary key (id))
2025-04-09 18:00:31.015 [] [] [main] DEBUG org.hibernate.SQL - create table roles (id integer generated by default as identity, name varchar(20) check (name in ('ROLE_USER','ROLE_MODERATOR','ROLE_ADMIN')), primary key (id))
2025-04-09 18:00:31.016 [] [] [main] DEBUG org.hibernate.SQL - create table ticket_types (id bigint generated by default as identity, color_code varchar(20), created_at timestamp(6) not null, description varchar(255), name varchar(50) not null, price numeric(10,2) not null, primary key (id))
2025-04-09 18:00:31.016 [] [] [main] DEBUG org.hibernate.SQL - create table tickets (id bigint generated by default as identity, available_quantity integer not null, created_at timestamp(6) not null, description varchar(255), price numeric(10,2), status varchar(255), total_quantity integer not null, performance_id bigint not null, ticket_type_id bigint not null, primary key (id))
2025-04-09 18:00:31.017 [] [] [main] DEBUG org.hibernate.SQL - create table user_roles (user_id bigint not null, role_id integer not null, primary key (user_id, role_id))
2025-04-09 18:00:31.018 [] [] [main] DEBUG org.hibernate.SQL - create table user_tickets (id bigint generated by default as identity, created_at timestamp(6) not null, is_used boolean not null, ticket_code varchar(255) not null, updated_at timestamp(6) not null, order_item_id bigint not null, user_id bigint not null, primary key (id))
2025-04-09 18:00:31.018 [] [] [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, created_at timestamp(6), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), reset_password_token varchar(255), reset_password_token_expiry timestamp(6), updated_at timestamp(6), username varchar(255), primary key (id))
2025-04-09 18:00:31.019 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders drop constraint if exists UK_nthkiu7pgmnqnu86i2jyoe2v7
2025-04-09 18:00:31.020 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders add constraint UK_nthkiu7pgmnqnu86i2jyoe2v7 unique (order_number)
2025-04-09 18:00:31.020 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets drop constraint if exists UK_5kxnsqfwpop53fu9y4dm2ivxr
2025-04-09 18:00:31.020 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint UK_5kxnsqfwpop53fu9y4dm2ivxr unique (ticket_code)
2025-04-09 18:00:31.021 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2025-04-09 18:00:31.021 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2025-04-09 18:00:31.021 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7
2025-04-09 18:00:31.022 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-04-09 18:00:31.023 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists order_items add constraint FKbioxgbv59vetrxe0ejfubep1w foreign key (order_id) references orders
2025-04-09 18:00:31.025 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists order_items add constraint FKt2ynanr8tfohjdpkrjiajbmc foreign key (ticket_id) references tickets
2025-04-09 18:00:31.026 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users
2025-04-09 18:00:31.027 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists performances add constraint FKqgw8m05tetv1vx8xiioikot8q foreign key (concert_id) references concerts
2025-04-09 18:00:31.027 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists tickets add constraint FKs04a7r9lnv2g10dffp31ox6vi foreign key (performance_id) references performances
2025-04-09 18:00:31.028 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists tickets add constraint FKotik7mbbb14hu8n9og7o92k5h foreign key (ticket_type_id) references ticket_types
2025-04-09 18:00:31.029 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 foreign key (role_id) references roles
2025-04-09 18:00:31.029 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users
2025-04-09 18:00:31.030 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint FKlc2lk84hg4px6vmbtstwp0xre foreign key (order_item_id) references order_items
2025-04-09 18:00:31.031 [] [] [main] DEBUG org.hibernate.SQL - alter table if exists user_tickets add constraint FK9ok1dlkt49it7wyeh529wy315 foreign key (user_id) references users
2025-04-09 18:00:31.032 [] [] [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-09 18:00:31.256 [] [] [main] DEBUG c.d.security.jwt.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2025-04-09 18:00:31.256 [] [] [main] DEBUG c.d.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-04-09 18:00:31.256 [] [] [main] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Filter 'requestLoggingFilter' configured for use
2025-04-09 18:00:31.257 [] [] [main] DEBUG c.d.logging.EnhancedLoggingFilter - Filter 'enhancedLoggingFilter' configured for use
2025-04-09 18:00:31.385 [] [] [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-09 18:00:31.658 [] [] [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-09 18:00:31.808 [] [] [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7b51fc45, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78c0fad6, org.springframework.security.web.context.SecurityContextHolderFilter@18f90bd8, org.springframework.security.web.header.HeaderWriterFilter@75351aec, org.springframework.web.filter.CorsFilter@3c42dc9f, org.springframework.security.web.authentication.logout.LogoutFilter@71af3c7, com.digitalconcerthall.security.jwt.AuthTokenFilter@5b9c74a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e2c701, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21e441d1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@70bca957, org.springframework.security.web.session.SessionManagementFilter@448861e5, org.springframework.security.web.access.ExceptionTranslationFilter@339de67e, org.springframework.security.web.access.intercept.AuthorizationFilter@3c3f0f2e]
2025-04-09 18:00:31.965 [] [] [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 57544 (http) with context path ''
2025-04-09 18:00:31.981 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_USER")
2025-04-09 18:00:32.020 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 18:00:32.024 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 41 ms
2025-04-09 18:00:32.032 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 18:00:32.033 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_USER"
})
2025-04-09 18:00:32.051 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 18:00:32.057 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 23 ms
2025-04-09 18:00:32.057 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 1,
  "name" : "ROLE_USER"
}
2025-04-09 18:00:32.058 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_MODERATOR")
2025-04-09 18:00:32.059 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 18:00:32.059 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 1 ms
2025-04-09 18:00:32.059 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 18:00:32.060 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_MODERATOR"
})
2025-04-09 18:00:32.061 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 18:00:32.061 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 1 ms
2025-04-09 18:00:32.061 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 2,
  "name" : "ROLE_MODERATOR"
}
2025-04-09 18:00:32.061 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_ADMIN")
2025-04-09 18:00:32.062 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 18:00:32.063 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 1 ms
2025-04-09 18:00:32.063 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : true,
  "present" : false
}
2025-04-09 18:00:32.063 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.save] - $Proxy155.save(entity={
  "id" : null,
  "name" : "ROLE_ADMIN"
})
2025-04-09 18:00:32.064 [] [$Proxy155.save] [main] DEBUG org.hibernate.SQL - insert into roles (name,id) values (?,default)
2025-04-09 18:00:32.064 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.save] - $Proxy155.save completed in 1 ms
2025-04-09 18:00:32.065 [] [$Proxy155.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.save]: {
  "id" : 3,
  "name" : "ROLE_ADMIN"
}
2025-04-09 18:00:32.066 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy154.findByEmail] - $Proxy154.findByEmail(email="admin@digitalconcert.com")
2025-04-09 18:00:32.068 [] [$Proxy154.findByEmail] [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password,u1_0.reset_password_token,u1_0.reset_password_token_expiry,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-04-09 18:00:32.069 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy154.findByEmail] - $Proxy154.findByEmail completed in 2 ms
2025-04-09 18:00:32.069 [] [$Proxy154.findByEmail] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy154.findByEmail]: {
  "empty" : true,
  "present" : false
}
2025-04-09 18:00:32.069 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.findByName] - $Proxy155.findByName(name="ROLE_ADMIN")
2025-04-09 18:00:32.070 [] [$Proxy155.findByName] [main] DEBUG org.hibernate.SQL - select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2025-04-09 18:00:32.072 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.findByName] - $Proxy155.findByName completed in 2 ms
2025-04-09 18:00:32.072 [] [$Proxy155.findByName] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.findByName]: {
  "empty" : false,
  "present" : true
}
2025-04-09 18:00:32.159 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy154.save] - $Proxy154.save(entity={
  "id" : null,
  "username" : "admin@digitalconcert.com",
  "email" : "admin@digitalconcert.com",
  "password" : "$2a$10$PKsOWy6NKjUbPeWrT8REFuH2XZTfnUlxz1WFF.EA9L9f1dSfE/Vfe",
  "firstName" : null,
  "lastName" : null,
  "resetPasswordToken" : null,
  "resetPasswordTokenExpiry" : null,
  "roles" : [ {
    "id" : 3,
    "name" : "ROLE_ADMIN"
  } ],
  "createdAt" : null,
  "updatedAt" : null,
  "orders" : [ ],
  "userTickets" : [ ]
})
2025-04-09 18:00:32.179 [] [$Proxy154.save] [main] DEBUG org.hibernate.SQL - insert into users (created_at,email,first_name,last_name,password,reset_password_token,reset_password_token_expiry,updated_at,username,id) values (?,?,?,?,?,?,?,?,?,default)
2025-04-09 18:00:32.182 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy154.save] - $Proxy154.save completed in 22 ms
2025-04-09 18:00:32.186 [] [$Proxy154.save] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy154.save]: {
  "id" : 1,
  "username" : "admin@digitalconcert.com",
  "email" : "admin@digitalconcert.com",
  "password" : "$2a$10$PKsOWy6NKjUbPeWrT8REFuH2XZTfnUlxz1WFF.EA9L9f1dSfE/Vfe",
  "firstName" : null,
  "lastName" : null,
  "resetPasswordToken" : null,
  "resetPasswordTokenExpiry" : null,
  "roles" : [ {
    "id" : 3,
    "name" : "ROLE_ADMIN"
  } ],
  "createdAt" : "2025-04-09T18:00:32.160787",
  "updatedAt" : "2025-04-09T18:00:32.160792",
  "orders" : [ ],
  "userTickets" : [ ]
}
2025-04-09 18:00:32.190 [] [] [main] DEBUG org.hibernate.SQL - insert into user_roles (user_id,role_id) values (?,?)
2025-04-09 18:00:32.191 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.count] - $Proxy155.count()
2025-04-09 18:00:32.195 [] [$Proxy155.count] [main] DEBUG org.hibernate.SQL - select count(*) from roles r1_0
2025-04-09 18:00:32.196 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.count] - $Proxy155.count completed in 4 ms
2025-04-09 18:00:32.196 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.count]: 3
2025-04-09 18:00:32.197 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [$Proxy155.count] - $Proxy155.count()
2025-04-09 18:00:32.197 [] [$Proxy155.count] [main] DEBUG org.hibernate.SQL - select count(*) from roles r1_0
2025-04-09 18:00:32.198 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [$Proxy155.count] - $Proxy155.count completed in 0 ms
2025-04-09 18:00:32.198 [] [$Proxy155.count] [main] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [$Proxy155.count]: 3
2025-04-09 18:00:32.465 [] [] [main] INFO  c.d.logging.TestLoggingService - 
▶▶▶ TEST STARTED ▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶
TEST ID: T20250409-180032--001
NAME: 音樂會創建測試
DESCRIPTION: 測試管理員是否能成功創建音樂會，並驗證創建的音樂會數據是否正確
TAGS: [api, concert, admin]
START TIME: 20250409-180032
▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶▶
2025-04-09 18:00:32.466 [] [] [main] INFO  c.d.logging.TestLoggingService - 
→ TEST STEP #1 - 管理員登入
DETAILS: 使用管理員帳號登入系統，獲取JWT令牌
2025-04-09 18:00:32.468 [] [] [main] INFO  c.d.logging.TestLoggingService - 
→ TEST STEP #2 - 發送登入請求
DETAILS: 請求URL: http://localhost:57544/api/auth/signin
2025-04-09 18:00:32.512 [] [] [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-09 18:00:32.512 [] [] [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-09 18:00:32.513 [] [] [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-09 18:00:32.516 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signin
2025-04-09 18:00:32.519 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-04-09 18:00:32.520 [] [] [http-nio-auto-1-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/signin' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-04-09 18:00:32.523 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signin
2025-04-09 18:00:32.526 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/auth/signin, headers=[accept:"application/json, application/*+json", user-agent:"Java/17.0.6", host:"localhost:57544", connection:"keep-alive", transfer-encoding:"chunked", Content-Type:"application/json;charset=UTF-8"]]
2025-04-09 18:00:32.527 [0334a72feb8748f5890e9a089393c5b8] [] [http-nio-auto-1-exec-1] INFO  c.d.logging.EnhancedLoggingFilter - 
━━━━━ REQUEST ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ID: 0334a72feb8748f5890e9a089393c5b8
URI: /api/auth/signin
METHOD: POST
QUERY: 
CLIENT IP: 127.0.0.1
HEADERS: [accept: application/json, application/*+json, content-type: application/json, user-agent: Java/17.0.6, host: localhost:57544, connection: keep-alive, transfer-encoding: chunked]
BODY: 
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

2025-04-09 18:00:32.540 [0334a72feb8748f5890e9a089393c5b8] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [0334a72feb8748f5890e9a089393c5b8] - AuthController.authenticateUser(loginRequest={
  "username" : "admin@digitalconcert.com",
  "password" : "admin123"
})
2025-04-09 18:00:32.540 [0334a72feb8748f5890e9a089393c5b8] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [0334a72feb8748f5890e9a089393c5b8] - AuthServiceImpl.authenticateUser(loginRequest={
  "username" : "admin@digitalconcert.com",
  "password" : "admin123"
})
2025-04-09 18:00:32.620 [0334a72feb8748f5890e9a089393c5b8] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
▶ Method Execution [0334a72feb8748f5890e9a089393c5b8] - $Proxy154.findByUsername(username="admin@digitalconcert.com")
2025-04-09 18:00:32.621 [0334a72feb8748f5890e9a089393c5b8] [] [http-nio-auto-1-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password,u1_0.reset_password_token,u1_0.reset_password_token_expiry,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-04-09 18:00:32.625 [0334a72feb8748f5890e9a089393c5b8] [] [http-nio-auto-1-exec-1] DEBUG org.hibernate.SQL - select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2025-04-09 18:00:32.626 [0334a72feb8748f5890e9a089393c5b8] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
✓ Method Execution [0334a72feb8748f5890e9a089393c5b8] - $Proxy154.findByUsername completed in 6 ms
2025-04-09 18:00:32.626 [0334a72feb8748f5890e9a089393c5b8] [] [http-nio-auto-1-exec-1] DEBUG c.d.logging.MethodLoggingAspect - 
↩ Return Value [0334a72feb8748f5890e9a089393c5b8]: {
  "empty" : false,
  "present" : true
}
2025-04-09 18:00:32.699 [0334a72feb8748f5890e9a089393c5b8] [] [http-nio-auto-1-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-04-09 18:00:32.699 [0334a72feb8748f5890e9a089393c5b8] [] [http-nio-auto-1-exec-1] ERROR c.d.logging.MethodLoggingAspect - 
❌ Method Exception [0334a72feb8748f5890e9a089393c5b8] - AuthServiceImpl.authenticateUser: Bad credentials
org.springframework.security.authentication.BadCredentialsException: Bad credentials
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.additionalAuthenticationChecks(DaoAuthenticationProvider.java:89)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:147)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at com.digitalconcerthall.service.impl.AuthServiceImpl.authenticateUser(AuthServiceImpl.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.digitalconcerthall.logging.MethodLoggingAspect.logMethodExecution(MethodLoggingAspect.java:94)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.digitalconcerthall.service.impl.AuthServiceImpl$$SpringCGLIB$$0.authenticateUser(<generated>)
	at com.digitalconcerthall.controller.AuthController.authenticateUser(AuthController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.digitalconcerthall.logging.MethodLoggingAspect.logMethodExecution(MethodLoggingAspect.java:94)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.digitalconcerthall.controller.AuthController$$SpringCGLIB$$0.authenticateUser(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.digitalconcerthall.logging.EnhancedLoggingFilter.doFilterInternal(EnhancedLoggingFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.digitalconcerthall.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.digitalconcerthall.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2025-04-09 18:00:32.702 [0334a72feb8748f5890e9a089393c5b8] [] [http-nio-auto-1-exec-1] ERROR c.d.logging.MethodLoggingAspect - 
❌ Method Exception [0334a72feb8748f5890e9a089393c5b8] - AuthController.authenticateUser: Bad credentials
org.springframework.security.authentication.BadCredentialsException: Bad credentials
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.additionalAuthenticationChecks(DaoAuthenticationProvider.java:89)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:147)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at com.digitalconcerthall.service.impl.AuthServiceImpl.authenticateUser(AuthServiceImpl.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.digitalconcerthall.logging.MethodLoggingAspect.logMethodExecution(MethodLoggingAspect.java:94)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.digitalconcerthall.service.impl.AuthServiceImpl$$SpringCGLIB$$0.authenticateUser(<generated>)
	at com.digitalconcerthall.controller.AuthController.authenticateUser(AuthController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.digitalconcerthall.logging.MethodLoggingAspect.logMethodExecution(MethodLoggingAspect.java:94)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.digitalconcerthall.controller.AuthController$$SpringCGLIB$$0.authenticateUser(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.digitalconcerthall.logging.EnhancedLoggingFilter.doFilterInternal(EnhancedLoggingFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.digitalconcerthall.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.digitalconcerthall.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2025-04-09 18:00:32.705 [0334a72feb8748f5890e9a089393c5b8] [] [http-nio-auto-1-exec-1] ERROR c.d.exception.GlobalExceptionHandler - Bad credentials error: Bad credentials
2025-04-09 18:00:32.713 [0334a72feb8748f5890e9a089393c5b8] [] [http-nio-auto-1-exec-1] ERROR c.d.logging.EnhancedLoggingFilter - 
━━━━━ RESPONSE ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ID: 0334a72feb8748f5890e9a089393c5b8
STATUS: 401
DURATION: 183 ms
HEADERS: [Vary: Origin, Vary: Origin, Vary: Origin]
BODY: {
  "success" : false,
  "message" : "ç¨æ¶åæå¯ç¢¼é¯èª¤"
}
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

2025-04-09 18:00:32.715 [] [] [http-nio-auto-1-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/auth/signin, headers=[accept:"application/json, application/*+json", user-agent:"Java/17.0.6", host:"localhost:57544", connection:"keep-alive", transfer-encoding:"chunked", Content-Type:"application/json;charset=UTF-8"], payload={"username":"admin@digitalconcert.com","password":"admin123"}]
2025-04-09 18:00:32.718 [] [] [main] ERROR c.d.logging.TestLoggingService - 
❌ TEST ERROR: 登入請求失敗 (URL: http://localhost:57544/api/auth/signin): I/O error on POST request for "http://localhost:57544/api/auth/signin": cannot retry due to server authentication, in streaming mode
DETAILS: org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:57544/api/auth/signin": cannot retry due to server authentication, in streaming mode
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:57544/api/auth/signin": cannot retry due to server authentication, in streaming mode
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:885)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:781)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:529)
	at org.springframework.boot.test.web.client.TestRestTemplate.postForEntity(TestRestTemplate.java:454)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.loginAsAdmin(ConcertCreationIntegrationTest.java:195)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.setUp(ConcertCreationIntegrationTest.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:521)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:506)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:175)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:172)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: java.net.HttpRetryException: cannot retry due to server authentication, in streaming mode
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1794)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)
	at org.springframework.http.client.SimpleClientHttpResponse.getStatusCode(SimpleClientHttpResponse.java:55)
	at org.springframework.web.client.DefaultResponseErrorHandler.hasError(DefaultResponseErrorHandler.java:83)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:921)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:881)
	... 79 common frames omitted
2025-04-09 18:00:32.719 [] [] [main] ERROR c.d.logging.TestLoggingService - 
❌ TEST ERROR: 管理員登入過程發生錯誤: 登入請求失敗 (URL: http://localhost:57544/api/auth/signin): I/O error on POST request for "http://localhost:57544/api/auth/signin": cannot retry due to server authentication, in streaming mode
DETAILS: java.lang.RuntimeException: 登入請求失敗 (URL: http://localhost:57544/api/auth/signin): I/O error on POST request for "http://localhost:57544/api/auth/signin": cannot retry due to server authentication, in streaming mode
java.lang.RuntimeException: 登入請求失敗 (URL: http://localhost:57544/api/auth/signin): I/O error on POST request for "http://localhost:57544/api/auth/signin": cannot retry due to server authentication, in streaming mode
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.loginAsAdmin(ConcertCreationIntegrationTest.java:214)
	at com.digitalconcerthall.test.ConcertCreationIntegrationTest.setUp(ConcertCreationIntegrationTest.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:521)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:506)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:175)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:172)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
2025-04-09 18:00:32.788 [] [] [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-09 18:00:32.791 [] [] [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-09 18:00:32.794 [] [] [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
